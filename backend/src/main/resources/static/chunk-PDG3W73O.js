import{$ as k,A as se,Aa as H,B as a,C as r,D as m,E as M,F as h,G as p,Ha as R,Ia as q,Ja as Q,L as s,M as _,N as v,Na as J,Oa as X,P as ce,R as B,S as z,T as V,U as pe,_ as N,a as ne,aa as w,d as ie,f as oe,fa as Z,ga as y,h as A,ha as de,i as re,j as E,k as C,l as ae,m as L,ma as ge,n as u,na as me,o as f,oa as ue,p as $,pa as F,q as le,qa as D,r as G,ra as fe,s as l,sa as K,t as T,ta as o,ua as he,v as b,wa as be,x as c,ya as j,z as P}from"./chunk-YGVGUOKE.js";var Oe=()=>({exact:!0});function Pe(n,d){if(n&1){let e=M();a(0,"div",16),h("clickOutside",function(){u(e);let i=p();return f(i.closeProfileMenu())}),a(1,"button",17),h("click",function(){u(e);let i=p();return f(i.toggleProfileMenu())}),a(2,"div",18),s(3),r(),a(4,"span",19),s(5),r(),m(6,"i",20),r(),a(7,"div",21)(8,"div",22)(9,"div",23),s(10),r(),a(11,"div",24)(12,"span",25),s(13),r(),a(14,"span",26),s(15),r(),a(16,"span",27),s(17),r()()(),m(18,"div",28),a(19,"button",29),h("click",function(){u(e);let i=p();return f(i.confirmLogout())}),m(20,"i",30),a(21,"span"),s(22,"Logout"),r()()()()}if(n&2){let e=p();l(3),v(" ",e.getUserInitials()," "),l(2),_(e.currentUser.fullName),l(),P("open",e.profileMenuOpen),l(),P("open",e.profileMenuOpen),l(3),v(" ",e.getUserInitials()," "),l(3),_(e.currentUser.fullName),l(2),_(e.currentUser.email),l(2),_(e.currentUser.role||"User")}}var _e=(()=>{class n{constructor(e,t){this.authService=e,this.router=t,this.currentUser=null,this.profileMenuOpen=!1,this.mobileMenuOpen=!1}ngOnInit(){this.authService.currentUser$.subscribe(e=>{this.currentUser=e})}onDocumentClick(e){e.target.closest(".user-dropdown")||(this.profileMenuOpen=!1)}onEscapeKey(){this.profileMenuOpen=!1,this.mobileMenuOpen=!1}onResize(){window.innerWidth>992&&(this.mobileMenuOpen=!1)}toggleProfileMenu(){this.profileMenuOpen=!this.profileMenuOpen}closeProfileMenu(){this.profileMenuOpen=!1}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}closeMobileMenu(){this.mobileMenuOpen=!1}getUserInitials(){if(!this.currentUser?.fullName)return"?";let e=this.currentUser.fullName.split(" ");return e.length>=2?e[0][0]+e[e.length-1][0]:e[0].substring(0,2)}confirmLogout(){confirm("Are you sure you want to logout?")&&this.logout()}logout(){this.profileMenuOpen=!1,this.authService.logout()}static{this.\u0275fac=function(t){return new(t||n)(T(he),T(F))}}static{this.\u0275cmp=C({type:n,selectors:[["app-header"]],hostBindings:function(t,i){t&1&&h("click",function(x){return i.onDocumentClick(x)},!1,G)("keydown.escape",function(){return i.onEscapeKey()},!1,G)("resize",function(x){return i.onResize(x)},!1,le)},decls:21,vars:6,consts:[[1,"header"],[1,"header-content"],[1,"logo"],["routerLink","/dashboard"],[1,"mobile-menu-toggle",3,"click"],[1,"fas",3,"ngClass"],[1,"nav-menu"],["routerLink","/dashboard","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-chart-line"],["routerLink","/orders","routerLinkActive","active"],[1,"fas","fa-clipboard-list"],["routerLink","/production","routerLinkActive","active"],[1,"fas","fa-industry"],["routerLink","/batches","routerLinkActive","active"],[1,"fas","fa-cubes"],["class","user-dropdown",3,"clickOutside",4,"ngIf"],[1,"user-dropdown",3,"clickOutside"],[1,"profile-trigger",3,"click"],[1,"user-avatar"],[1,"user-name-display"],[1,"fas","fa-chevron-down","profile-arrow"],[1,"profile-menu"],[1,"profile-header"],[1,"profile-avatar-lg"],[1,"profile-info"],[1,"profile-name"],[1,"profile-email"],[1,"profile-role"],[1,"profile-menu-divider"],[1,"profile-menu-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"]],template:function(t,i){t&1&&(a(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),s(4,"MES Production"),r()(),a(5,"button",4),h("click",function(){return i.toggleMobileMenu()}),m(6,"i",5),r(),a(7,"nav",6)(8,"a",7),m(9,"i",8),s(10," Dashboard "),r(),a(11,"a",9),m(12,"i",10),s(13," Orders "),r(),a(14,"a",11),m(15,"i",12),s(16," Production "),r(),a(17,"a",13),m(18,"i",14),s(19," Batches "),r()(),b(20,Pe,23,10,"div",15),r()()),t&2&&(l(6),c("ngClass",i.mobileMenuOpen?"fa-times":"fa-bars"),l(),P("open",i.mobileMenuOpen),l(),c("routerLinkActiveOptions",pe(5,Oe)),l(12),c("ngIf",i.currentUser))},dependencies:[N,w,D,fe],styles:[".header[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;box-shadow:0 2px 4px #0000001a;flex-shrink:0;z-index:1000;overflow:visible}.header-content[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0 20px;display:flex;align-items:center;justify-content:space-between;height:60px;overflow:visible}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;font-weight:500}.nav-menu[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:center}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fffc;text-decoration:none;font-size:14px;font-weight:500;padding:8px 0;border-bottom:2px solid transparent;transition:all .2s;white-space:nowrap}.nav-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.user-dropdown[_ngcontent-%COMP%]{position:relative}.profile-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;background:transparent;border:none;color:#fff;cursor:pointer;padding:6px 10px;border-radius:8px;transition:background-color .2s}.profile-trigger[_ngcontent-%COMP%]:hover{background:#ffffff1a}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;color:#fff;text-transform:uppercase}.user-name-display[_ngcontent-%COMP%]{font-size:14px;font-weight:500;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.profile-arrow[_ngcontent-%COMP%]{font-size:10px;transition:transform .2s}.profile-arrow.open[_ngcontent-%COMP%]{transform:rotate(180deg)}.profile-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);right:0;background:#fff;border-radius:12px;box-shadow:0 8px 30px #0003;min-width:280px;padding:0;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease;z-index:1002;overflow:hidden}.profile-menu.open[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.profile-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:14px;padding:20px;background:linear-gradient(135deg,#1976d2,#1565c0);color:#fff}.profile-avatar-lg[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:600;text-transform:uppercase;flex-shrink:0}.profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.profile-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.profile-email[_ngcontent-%COMP%]{font-size:13px;opacity:.9;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.profile-role[_ngcontent-%COMP%]{font-size:11px;text-transform:uppercase;letter-spacing:.5px;margin-top:4px;padding:2px 8px;background:#fff3;border-radius:10px;width:fit-content}.profile-menu-divider[_ngcontent-%COMP%]{height:1px;background:#eee;margin:0}.profile-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:14px 20px;color:#333;text-decoration:none;font-size:14px;transition:background-color .2s;border:none;background:none;width:100%;cursor:pointer;text-align:left}.profile-menu-item[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.profile-menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;color:#666;font-size:15px}.profile-menu-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#1976d2}.logout-item[_ngcontent-%COMP%], .logout-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#d32f2f}.logout-item[_ngcontent-%COMP%]:hover{background-color:#ffebee}.logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:#d32f2f}.mobile-menu-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;color:#fff;font-size:24px;cursor:pointer;padding:8px}@media (max-width: 1200px){.nav-menu[_ngcontent-%COMP%]{gap:12px}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .dropdown-trigger[_ngcontent-%COMP%]{font-size:13px}.user-name-display[_ngcontent-%COMP%]{display:none}}@media (max-width: 992px){.mobile-menu-toggle[_ngcontent-%COMP%]{display:block}.nav-menu[_ngcontent-%COMP%]{position:fixed;inset:60px 0 0;background:#fff;flex-direction:column;align-items:stretch;gap:0;padding:0;transform:translate(-100%);transition:transform .3s ease;overflow-y:auto;z-index:999}.nav-menu.open[_ngcontent-%COMP%]{transform:translate(0)}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#333;padding:16px 20px;border-bottom:1px solid #eee;font-size:15px}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .nav-menu[_ngcontent-%COMP%] > a.active[_ngcontent-%COMP%]{background:#f5f5f5;color:#1976d2;border-bottom-color:#eee}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:24px}.nav-dropdown[_ngcontent-%COMP%]{height:auto;flex-direction:column;align-items:stretch}.dropdown-trigger[_ngcontent-%COMP%]{color:#333;padding:16px 20px;border-bottom:1px solid #eee;font-size:15px;justify-content:flex-start}.dropdown-trigger[_ngcontent-%COMP%]:hover, .dropdown-trigger.active[_ngcontent-%COMP%]{background:#f5f5f5;color:#1976d2;border-bottom-color:#eee}.dropdown-arrow[_ngcontent-%COMP%]{margin-left:auto}.dropdown-menu[_ngcontent-%COMP%]{position:static;opacity:1;visibility:visible;transform:none;box-shadow:none;border-radius:0;min-width:auto;background:#f9f9f9;max-height:0;overflow:hidden;transition:max-height .3s ease;padding:0}.nav-dropdown.expanded[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{max-height:300px;padding:8px 0}.nav-dropdown.expanded[_ngcontent-%COMP%]   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding-left:52px}.nav-dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{max-height:0;padding:0}.nav-dropdown.expanded[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{max-height:300px;padding:8px 0}}@media (max-width: 576px){.header-content[_ngcontent-%COMP%]{padding:0 12px}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}.profile-trigger[_ngcontent-%COMP%]{padding:4px 8px}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px;font-size:12px}.profile-menu[_ngcontent-%COMP%]{min-width:260px;right:-10px}}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.nav-menu[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.nav-dropdown[_ngcontent-%COMP%]{position:relative;height:60px;display:flex;align-items:center}.dropdown-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#fffc;text-decoration:none;font-size:14px;font-weight:500;padding:8px 0;border-bottom:2px solid transparent;transition:all .2s;cursor:pointer;white-space:nowrap}.dropdown-trigger[_ngcontent-%COMP%]:hover, .dropdown-trigger.active[_ngcontent-%COMP%]{color:#fff;border-bottom-color:#fff}.dropdown-arrow[_ngcontent-%COMP%]{font-size:10px;transition:transform .2s}.nav-dropdown[_ngcontent-%COMP%]:hover   .dropdown-arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;min-width:200px;padding:8px 0;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease;z-index:1001}.nav-dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px 16px;color:#333;text-decoration:none;font-size:14px;font-weight:400;border-bottom:none!important;transition:background-color .2s}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;color:#1976d2}.dropdown-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2;font-weight:500}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:18px;text-align:center;color:#666}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .dropdown-menu[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1976d2}"]})}}return n})();var tt=(()=>{class n{constructor(){this.message="Loading..."}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-loading-spinner"]],inputs:{message:"message"},decls:4,vars:1,consts:[[1,"loading-container"],[1,"spinner"],[1,"loading-message"]],template:function(t,i){t&1&&(a(0,"div",0),m(1,"div",1),a(2,"p",2),s(3),r()()),t&2&&(l(3),_(i.message))},styles:[".loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f3f3;border-top:3px solid #1976d2;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-message[_ngcontent-%COMP%]{margin-top:16px;color:#666;font-size:14px}"]})}}return n})();var xe=(()=>{class n{constructor(){this.status=""}get badgeClass(){return this.status?`badge badge-${this.status.toLowerCase().replace(/_/g,"-")}`:"badge badge-unknown"}get displayStatus(){return this.status?this.status.replace(/_/g," "):""}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-status-badge"]],inputs:{status:"status"},decls:2,vars:3,template:function(t,i){t&1&&(a(0,"span"),s(1),r()),t&2&&(se(i.badgeClass),l(),_(i.displayStatus))},styles:[".badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:4px;font-size:12px;font-weight:500;text-transform:capitalize}.badge-pending[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.badge-in-progress[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.badge-completed[_ngcontent-%COMP%], .badge-available[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.badge-consumed[_ngcontent-%COMP%]{background-color:#fce4ec;color:#c62828}.badge-on-hold[_ngcontent-%COMP%]{background-color:#fff8e1;color:#f57f17}.badge-released[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.badge-planned[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.badge-active[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.badge-inactive[_ngcontent-%COMP%]{background-color:#efebe9;color:#5d4037}.badge-quality-pending[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100;border:1px solid #ffcc80}.badge-rejected[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a}.badge-ready[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.badge-not-started[_ngcontent-%COMP%]{background-color:#eceff1;color:#546e7a}.badge-confirmed[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#2e7d32}.badge-partially-confirmed[_ngcontent-%COMP%]{background-color:#fff3e0;color:#ef6c00;border:1px solid #ffb74d}.badge-created[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.badge-blocked[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a}.badge-scrapped[_ngcontent-%COMP%]{background-color:#efebe9;color:#4e342e;border:1px solid #bcaaa4}.badge-maintenance[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100;border:1px solid #ffcc80}.badge-in-use[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0}.badge-unavailable[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.badge-produced[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border:1px solid #90caf9}.badge-merged[_ngcontent-%COMP%]{background-color:#f3e5f5;color:#7b1fa2}.badge-split[_ngcontent-%COMP%]{background-color:#fff3e0;color:#e65100}.badge-reserved[_ngcontent-%COMP%]{background-color:#fff8e1;color:#f57f17;border:1px solid #ffcc80}.badge-unknown[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#757575}"]})}}return n})();var Ce=[10,20,50,100];function I(n){let d={};return n.page!==void 0&&(d.page=n.page),n.size!==void 0&&(d.size=n.size),n.sortBy&&(d.sortBy=n.sortBy),n.sortDirection&&(d.sortDirection=n.sortDirection),n.search&&(d.search=n.search),n.status&&(d.status=n.status),n.type&&(d.type=n.type),n.category&&(d.category=n.category),n.dateFrom&&(d.dateFrom=n.dateFrom),n.dateTo&&(d.dateTo=n.dateTo),d}function ke(n,d){if(n&1){let e=M();a(0,"button",12),h("click",function(){let i=u(e).$implicit,g=p(2);return f(g.goToPage(i))}),s(1),r()}if(n&2){let e=d.$implicit,t=p(2);P("active",e===t.page),l(),v(" ",e+1," ")}}function Ie(n,d){if(n&1&&(a(0,"option",13),s(1),r()),n&2){let e=d.$implicit;c("ngValue",e),l(),v(" ",e," ")}}function Ue(n,d){if(n&1){let e=M();a(0,"div",1)(1,"div",2)(2,"span"),s(3),r()(),a(4,"div",3)(5,"button",4),h("click",function(){u(e);let i=p();return f(i.goToFirstPage())}),s(6," \xAB "),r(),a(7,"button",5),h("click",function(){u(e);let i=p();return f(i.goToPreviousPage())}),s(8," \u2039 "),r(),b(9,ke,2,3,"button",6),a(10,"button",7),h("click",function(){u(e);let i=p();return f(i.goToNextPage())}),s(11," \u203A "),r(),a(12,"button",8),h("click",function(){u(e);let i=p();return f(i.goToLastPage())}),s(13," \xBB "),r()(),a(14,"div",9)(15,"label"),s(16," Items per page: "),a(17,"select",10),V("ngModelChange",function(i){u(e);let g=p();return z(g.selectedSize,i)||(g.selectedSize=i),f(i)}),h("ngModelChange",function(i){u(e);let g=p();return f(g.onSizeSelectChange(i))}),b(18,Ie,2,2,"option",11),r()()()()}if(n&2){let e=p();l(3),ce("Showing ",e.startIndex," - ",e.endIndex," of ",e.totalElements,""),l(2),c("disabled",e.page===0),l(2),c("disabled",!e.hasPrevious),l(2),c("ngForOf",e.visiblePages),l(),c("disabled",!e.hasNext),l(2),c("disabled",e.page>=e.totalPages-1),l(5),B("ngModel",e.selectedSize),l(),c("ngForOf",e.pageSizeOptions)}}function Ee(n,d){n&1&&(a(0,"div",1)(1,"span",14),s(2,"No items found"),r()())}var ct=(()=>{class n{constructor(){this.page=0,this.size=20,this.totalElements=0,this.totalPages=0,this.hasNext=!1,this.hasPrevious=!1,this.pageChange=new $,this.sizeChange=new $,this.pageSizeOptions=Ce,this.selectedSize=20}ngOnChanges(e){e.size&&e.size.currentValue!==this.selectedSize&&(this.selectedSize=e.size.currentValue)}get startIndex(){return this.page*this.size+1}get endIndex(){return Math.min((this.page+1)*this.size,this.totalElements)}goToFirstPage(){this.page>0&&this.pageChange.emit(0)}goToPreviousPage(){this.hasPrevious&&this.pageChange.emit(this.page-1)}goToNextPage(){this.hasNext&&this.pageChange.emit(this.page+1)}goToLastPage(){this.page<this.totalPages-1&&this.pageChange.emit(this.totalPages-1)}onSizeChange(e){let t=e.target,i=parseInt(t.value,10);this.sizeChange.emit(i)}onSizeSelectChange(e){e!==this.size&&this.sizeChange.emit(e)}get visiblePages(){let e=[],i=Math.max(0,this.page-Math.floor(2.5)),g=Math.min(this.totalPages,i+5);g-i<5&&(i=Math.max(0,g-5));for(let x=i;x<g;x++)e.push(x);return e}goToPage(e){e>=0&&e<this.totalPages&&e!==this.page&&this.pageChange.emit(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-pagination"]],inputs:{page:"page",size:"size",totalElements:"totalElements",totalPages:"totalPages",hasNext:"hasNext",hasPrevious:"hasPrevious"},outputs:{pageChange:"pageChange",sizeChange:"sizeChange"},features:[L],decls:2,vars:2,consts:[["class","pagination-container",4,"ngIf"],[1,"pagination-container"],[1,"pagination-info"],[1,"pagination-controls"],["title","First page",1,"page-btn",3,"click","disabled"],["title","Previous page",1,"page-btn",3,"click","disabled"],["class","page-btn",3,"active","click",4,"ngFor","ngForOf"],["title","Next page",1,"page-btn",3,"click","disabled"],["title","Last page",1,"page-btn",3,"click","disabled"],[1,"page-size-selector"],[3,"ngModelChange","ngModel"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"page-btn",3,"click"],[3,"ngValue"],[1,"no-data"]],template:function(t,i){t&1&&b(0,Ue,19,10,"div",0)(1,Ee,3,0,"div",0),t&2&&(c("ngIf",i.totalElements>0),l(),c("ngIf",i.totalElements===0))},dependencies:[k,w,q,Q,R,j,H],styles:[".pagination-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px;border-top:1px solid #eee;flex-wrap:wrap;gap:16px}.pagination-info[_ngcontent-%COMP%]{color:#666;font-size:14px}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.page-btn[_ngcontent-%COMP%]{min-width:36px;height:36px;padding:0 8px;border:1px solid #ddd;background:#fff;color:#333;font-size:14px;cursor:pointer;border-radius:4px;transition:all .2s}.page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#f5f5f5;border-color:#1976d2}.page-btn.active[_ngcontent-%COMP%]{background:#1976d2;color:#fff;border-color:#1976d2}.page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:14px;color:#666}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ddd;border-radius:4px;background:#fff;font-size:14px;cursor:pointer}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#1976d2}.no-data[_ngcontent-%COMP%]{color:#888;font-size:14px}@media (max-width: 768px){.pagination-container[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.pagination-controls[_ngcontent-%COMP%]{justify-content:center}.pagination-info[_ngcontent-%COMP%], .page-size-selector[_ngcontent-%COMP%]{text-align:center;justify-content:center}}"]})}}return n})();var Te={dashboard:{label:"Dashboard",icon:"fa-chart-line"},orders:{label:"Orders",icon:"fa-clipboard-list"},production:{label:"Production",icon:"fa-industry"},inventory:{label:"Inventory",icon:"fa-warehouse"},batches:{label:"Batches",icon:"fa-cubes"},holds:{label:"Holds",icon:"fa-hand"},processes:{label:"Processes",icon:"fa-diagram-project"},operations:{label:"Operations",icon:"fa-gears"},equipment:{label:"Equipment",icon:"fa-wrench"},profile:{label:"Profile",icon:"fa-user"},"change-password":{label:"Change Password",icon:"fa-key"},manage:{label:"Manage",icon:"fa-sliders"},customers:{label:"Customers",icon:"fa-users"},materials:{label:"Materials",icon:"fa-box"},products:{label:"Products",icon:"fa-tag"},bom:{label:"Bill of Materials",icon:"fa-sitemap"},operators:{label:"Operators",icon:"fa-id-badge"},config:{label:"Configuration",icon:"fa-cog"},audit:{label:"Audit Trail",icon:"fa-history"},users:{label:"Users",icon:"fa-user-group"},receive:{label:"Receive Material",icon:"fa-download"},new:{label:"New"},edit:{label:"Edit"},detail:{label:"Details"},"quality-pending":{label:"Quality Pending",icon:"fa-clipboard-check"}},Be={orders:"Order",batches:"Batch",inventory:"Inventory Item",equipment:"Equipment",customers:"Customer",materials:"Material",products:"Product",processes:"Process",operations:"Operation",holds:"Hold",users:"User"},ve=(()=>{class n{constructor(e,t){this.router=e,this.activatedRoute=t,this.breadcrumbsSubject=new ie([]),this.breadcrumbs$=this.breadcrumbsSubject.asObservable(),this.router.events.pipe(oe(i=>i instanceof ge)).subscribe(()=>{let i=this.buildBreadcrumbs(this.activatedRoute.root);this.breadcrumbsSubject.next(i)})}buildBreadcrumbs(e,t="",i=[]){let g=e.children;if(g.length===0)return i;for(let x of g){let U=x.snapshot.url.map(S=>S.path).join("/");if(U!==""){t+=`/${U}`;let S=U.split("/");for(let W of S){let Y=this.createBreadcrumb(W,t,i);Y&&(i.some(ye=>ye.url===Y.url)||i.push(Y))}}return this.buildBreadcrumbs(x,t,i)}return i}createBreadcrumb(e,t,i){if(!e)return null;let g=Te[e];if(g)return{label:g.label,url:t,icon:g.icon};if(/^\d+$/.test(e)){let x=i[i.length-1];if(x){let U=x.url.split("/").filter(W=>W).pop(),S=Be[U||""];if(S)return{label:`${S} #${e}`,url:t}}return{label:`#${e}`,url:t}}return{label:this.formatSegment(e),url:t}}formatSegment(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}setBreadcrumbs(e){this.breadcrumbsSubject.next(e)}updateLastBreadcrumb(e){let t=this.breadcrumbsSubject.getValue();t.length>0&&(t[t.length-1].label=e,this.breadcrumbsSubject.next([...t]))}static{this.\u0275fac=function(t){return new(t||n)(E(F),E(me))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ve(n,d){if(n&1&&m(0,"i",14),n&2){let e=p(2).$implicit;c("ngClass",e.icon)}}function Ae(n,d){if(n&1&&(a(0,"a",12),b(1,Ve,1,1,"i",13),s(2),r()),n&2){let e=p().$implicit;c("routerLink",e.url),l(),c("ngIf",e.icon),l(),v(" ",e.label," ")}}function Le(n,d){if(n&1&&m(0,"i",14),n&2){let e=p(2).$implicit;c("ngClass",e.icon)}}function Ne(n,d){if(n&1&&(a(0,"span",15),b(1,Le,1,1,"i",13),s(2),r()),n&2){let e=p().$implicit;l(),c("ngIf",e.icon),l(),v(" ",e.label," ")}}function Fe(n,d){if(n&1&&(a(0,"li",7)(1,"span",8),m(2,"i",9),r(),b(3,Ae,3,3,"a",10)(4,Ne,3,2,"span",11),r()),n&2){let e=d.last;l(3),c("ngIf",!e),l(),c("ngIf",e)}}function De(n,d){if(n&1&&(a(0,"nav",1)(1,"ol",2)(2,"li",3)(3,"a",4),m(4,"i",5),r()(),b(5,Fe,5,2,"li",6),r()()),n&2){let e=p();l(5),c("ngForOf",e.breadcrumbs)}}var Me=(()=>{class n{constructor(e){this.breadcrumbService=e,this.breadcrumbs=[]}ngOnInit(){this.subscription=this.breadcrumbService.breadcrumbs$.subscribe(e=>{this.breadcrumbs=e})}ngOnDestroy(){this.subscription?.unsubscribe()}static{this.\u0275fac=function(t){return new(t||n)(T(ve))}}static{this.\u0275cmp=C({type:n,selectors:[["app-breadcrumb"]],decls:1,vars:1,consts:[["class","breadcrumb-nav",4,"ngIf"],[1,"breadcrumb-nav"],[1,"breadcrumb-list"],[1,"breadcrumb-item","home"],["routerLink","/dashboard"],[1,"fas","fa-home"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item"],[1,"breadcrumb-separator"],[1,"fas","fa-chevron-right"],[3,"routerLink",4,"ngIf"],["class","breadcrumb-current",4,"ngIf"],[3,"routerLink"],["class","fas",3,"ngClass",4,"ngIf"],[1,"fas",3,"ngClass"],[1,"breadcrumb-current"]],template:function(t,i){t&1&&b(0,De,6,1,"nav",0),t&2&&c("ngIf",i.breadcrumbs.length>0)},dependencies:[N,k,w,D],styles:[".breadcrumb-nav[_ngcontent-%COMP%]{background:#f8f9fa;padding:12px 24px;border-bottom:1px solid #eee}.breadcrumb-list[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;list-style:none;margin:0;padding:0;gap:4px}.breadcrumb-item[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:14px}.breadcrumb-item.home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#666;text-decoration:none;padding:4px 8px;border-radius:4px;transition:all .2s}.breadcrumb-item.home[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1976d2;background:#e3f2fd}.breadcrumb-separator[_ngcontent-%COMP%]{color:#ccc;font-size:10px;margin:0 4px}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1976d2;text-decoration:none;padding:4px 8px;border-radius:4px;transition:all .2s;display:flex;align-items:center;gap:6px}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#e3f2fd}.breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.breadcrumb-current[_ngcontent-%COMP%]{color:#333;font-weight:500;padding:4px 8px;display:flex;align-items:center;gap:6px}.breadcrumb-current[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;color:#666}@media (max-width: 576px){.breadcrumb-nav[_ngcontent-%COMP%]{padding:10px 16px}.breadcrumb-item[_ngcontent-%COMP%]{font-size:13px}.breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:first-child):not(:last-child){display:none}.breadcrumb-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   .breadcrumb-separator[_ngcontent-%COMP%]{display:inline-flex}}"]})}}return n})();var mt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-main-layout"]],decls:4,vars:0,consts:[[1,"main-content"]],template:function(t,i){t&1&&(m(0,"app-header")(1,"app-breadcrumb"),a(2,"main",0),m(3,"router-outlet"),r())},dependencies:[ue,_e,Me],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh}.main-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;position:relative;z-index:1}"]})}}return n})();function He(n,d){if(n&1&&(a(0,"option",29),s(1),r()),n&2){let e=d.$implicit;c("value",e),l(),_(e)}}function Re(n,d){if(n&1){let e=M();a(0,"button",16),h("click",function(){u(e);let i=p(2);return f(i.clearFilters())}),s(1," Clear Filters "),r()}}function qe(n,d){if(n&1){let e=M();a(0,"button",16),h("click",function(){u(e);let i=p(2);return f(i.clearAll())}),m(1,"i",30),s(2," Clear Selection "),r()}}function Qe(n,d){if(n&1&&(a(0,"span",31),s(1),r()),n&2){let e=p(2);l(),v(" ",e.selectedCount," item(s) selected ")}}function We(n,d){if(n&1){let e=M();a(0,"tr")(1,"td",33)(2,"input",35),h("change",function(){let i=u(e).$implicit,g=p(3);return f(g.toggleSelection(i))}),r()(),a(3,"td"),s(4),r(),a(5,"td"),s(6),r(),a(7,"td",36),s(8),r(),a(9,"td"),s(10),r(),a(11,"td"),m(12,"app-status-badge",37),r(),a(13,"td")(14,"input",38),h("input",function(i){let g=u(e).$implicit,x=p(3);return f(x.updateQuantity(g.inventoryId,i.target.valueAsNumber))}),r()()()}if(n&2){let e=d.$implicit,t=p(3);P("selected",t.isSelected(e.inventoryId)),l(2),c("checked",t.isSelected(e.inventoryId)),l(2),_(e.batchNumber),l(2),_(e.materialId),l(2),_(e.quantity),l(2),_(e.unit),l(2),c("status",e.state),l(2),c("disabled",!t.isSelected(e.inventoryId))("value",t.getSelectedQuantity(e.inventoryId))("min",0)("max",e.quantity)}}function Ye(n,d){if(n&1&&(a(0,"table",32)(1,"thead")(2,"tr"),m(3,"th",33),a(4,"th"),s(5,"Batch #"),r(),a(6,"th"),s(7,"Material ID"),r(),a(8,"th"),s(9,"Available Qty"),r(),a(10,"th"),s(11,"Unit"),r(),a(12,"th"),s(13,"State"),r(),a(14,"th"),s(15,"Qty to Consume"),r()()(),a(16,"tbody"),b(17,We,15,12,"tr",34),r()()),n&2){let e=p(2);l(17),c("ngForOf",e.filteredInventory)}}function Ge(n,d){n&1&&(a(0,"p",42),s(1," Try adjusting your search or filter criteria "),r())}function Ze(n,d){if(n&1&&(a(0,"div",39),m(1,"i",40),a(2,"p"),s(3,"No inventory items found"),r(),b(4,Ge,2,0,"p",41),r()),n&2){let e=p(2);l(4),c("ngIf",e.searchTerm||e.filterMaterialType)}}function Ke(n,d){if(n&1&&(a(0,"span")(1,"strong"),s(2),r(),s(3," materials selected, "),a(4,"strong"),s(5),r(),s(6," total quantity to consume "),r()),n&2){let e=p(2);l(2),_(e.selectedCount),l(3),_(e.totalSelectedQuantity)}}function Je(n,d){if(n&1){let e=M();a(0,"div",1),h("click",function(i){u(e);let g=p();return f(g.onBackdropClick(i))}),a(1,"div",2)(2,"div",3)(3,"h2"),s(4,"Select Materials for Consumption"),r(),a(5,"button",4),h("click",function(){u(e);let i=p();return f(i.onCancel())}),s(6,"\xD7"),r()(),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),V("ngModelChange",function(i){u(e);let g=p();return z(g.searchTerm,i)||(g.searchTerm=i),f(i)}),r(),m(11,"i",9),r(),a(12,"div",10)(13,"select",11),V("ngModelChange",function(i){u(e);let g=p();return z(g.filterMaterialType,i)||(g.filterMaterialType=i),f(i)}),a(14,"option",12),s(15,"All Material Types"),r(),b(16,He,2,2,"option",13),r()(),b(17,Re,2,0,"button",14),r(),a(18,"div",15)(19,"button",16),h("click",function(){u(e);let i=p();return f(i.selectAll())}),m(20,"i",17),s(21," Select All Visible "),r(),b(22,qe,3,0,"button",14)(23,Qe,2,1,"span",18),r(),a(24,"div",19),b(25,Ye,18,1,"table",20)(26,Ze,5,1,"div",21),r()(),a(27,"div",22)(28,"div",23),b(29,Ke,7,2,"span",24),r(),a(30,"div",25)(31,"button",26),h("click",function(){u(e);let i=p();return f(i.onCancel())}),s(32,"Cancel"),r(),a(33,"button",27),h("click",function(){u(e);let i=p();return f(i.onConfirm())}),m(34,"i",28),s(35," Confirm Selection "),r()()()()()}if(n&2){let e=p();l(10),B("ngModel",e.searchTerm),l(3),B("ngModel",e.filterMaterialType),l(3),c("ngForOf",e.materialTypes),l(),c("ngIf",e.searchTerm||e.filterMaterialType),l(5),c("ngIf",e.selectedCount>0),l(),c("ngIf",e.selectedCount>0),l(2),c("ngIf",e.filteredInventory.length>0),l(),c("ngIf",e.filteredInventory.length===0),l(3),c("ngIf",e.selectedCount>0)}}var xt=(()=>{class n{constructor(){this.isOpen=!1,this.availableInventory=[],this.selectedMaterials=[],this.close=new $,this.selectionChange=new $,this.searchTerm="",this.filterMaterialType="",this.localSelections=new Map,this.materialTypes=[]}ngOnInit(){this.initializeSelections()}ngOnChanges(e){(e.selectedMaterials||e.availableInventory)&&this.initializeSelections(),e.availableInventory&&this.extractMaterialTypes()}initializeSelections(){this.localSelections.clear(),this.selectedMaterials.forEach(e=>{this.localSelections.set(e.inventoryId,ne({},e))})}extractMaterialTypes(){let e=new Set;this.availableInventory.forEach(t=>{if(t.materialId){let i=t.materialId.split("-")[0];e.add(i)}}),this.materialTypes=Array.from(e).sort()}get filteredInventory(){return this.availableInventory.filter(e=>{let t=!this.searchTerm||e.batchNumber?.toLowerCase().includes(this.searchTerm.toLowerCase())||e.materialId?.toLowerCase().includes(this.searchTerm.toLowerCase())||e.materialName?.toLowerCase().includes(this.searchTerm.toLowerCase()),i=!this.filterMaterialType||e.materialId?.startsWith(this.filterMaterialType);return t&&i})}isSelected(e){return this.localSelections.has(e)}getSelectedQuantity(e){return this.localSelections.get(e)?.quantityToConsume||0}toggleSelection(e){this.localSelections.has(e.inventoryId)?this.localSelections.delete(e.inventoryId):this.localSelections.set(e.inventoryId,{inventoryId:e.inventoryId,batchId:e.batchId,batchNumber:e.batchNumber,materialId:e.materialId,availableQuantity:e.quantity,quantityToConsume:0})}updateQuantity(e,t){let i=this.localSelections.get(e);i&&(i.quantityToConsume=Math.min(Math.max(0,t),i.availableQuantity))}selectAll(){this.filteredInventory.forEach(e=>{this.localSelections.has(e.inventoryId)||this.localSelections.set(e.inventoryId,{inventoryId:e.inventoryId,batchId:e.batchId,batchNumber:e.batchNumber,materialId:e.materialId,availableQuantity:e.quantity,quantityToConsume:0})})}clearAll(){this.localSelections.clear()}clearFilters(){this.searchTerm="",this.filterMaterialType=""}get selectedCount(){return this.localSelections.size}get totalSelectedQuantity(){let e=0;return this.localSelections.forEach(t=>{e+=t.quantityToConsume}),e}onConfirm(){let e=Array.from(this.localSelections.values());this.selectionChange.emit(e),this.close.emit()}onCancel(){this.initializeSelections(),this.close.emit()}onBackdropClick(e){e.target.classList.contains("modal-backdrop")&&this.onCancel()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=C({type:n,selectors:[["app-material-selection-modal"]],inputs:{isOpen:"isOpen",availableInventory:"availableInventory",selectedMaterials:"selectedMaterials"},outputs:{close:"close",selectionChange:"selectionChange"},features:[L],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"modal-body"],[1,"filters-row"],[1,"search-group"],["type","text","placeholder","Search by batch # or material ID...",1,"form-control","search-input",3,"ngModelChange","ngModel"],[1,"fas","fa-search","search-icon"],[1,"filter-group"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],[1,"bulk-actions"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fas","fa-check-double"],["class","selection-summary",4,"ngIf"],[1,"table-container"],["class","table",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"modal-footer"],[1,"footer-summary"],[4,"ngIf"],[1,"footer-actions"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-check"],[3,"value"],[1,"fas","fa-times"],[1,"selection-summary"],[1,"table"],[1,"col-checkbox"],[3,"selected",4,"ngFor","ngForOf"],["type","checkbox",3,"change","checked"],[1,"text-right"],[3,"status"],["type","number","placeholder","0",1,"form-control","consume-qty",3,"input","disabled","value","min","max"],[1,"no-data"],[1,"fas","fa-inbox"],["class","text-muted",4,"ngIf"],[1,"text-muted"]],template:function(t,i){t&1&&b(0,Je,36,9,"div",0),t&2&&c("ngIf",i.isOpen)},dependencies:[k,w,q,Q,be,R,j,H,xe],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:90%;max-width:900px;max-height:80vh;display:flex;flex-direction:column;box-shadow:0 4px 20px #00000026}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e0e0e0}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;line-height:1}.close-btn[_ngcontent-%COMP%]:hover{color:#333}.modal-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px 20px}.filters-row[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;align-items:center;flex-wrap:wrap}.search-group[_ngcontent-%COMP%]{position:relative;flex:1;min-width:200px}.search-input[_ngcontent-%COMP%]{padding-left:36px}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#888}.filter-group[_ngcontent-%COMP%]{min-width:150px}.bulk-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;align-items:center}.selection-summary[_ngcontent-%COMP%]{color:#1976d2;font-weight:500;margin-left:auto}.table-container[_ngcontent-%COMP%]{border:1px solid #e0e0e0;border-radius:4px;max-height:400px;overflow-y:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:0}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0;background:#f5f5f5;z-index:1}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 12px;text-align:left;border-bottom:1px solid #e0e0e0}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:#555}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8f9fa}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#e3f2fd}.col-checkbox[_ngcontent-%COMP%]{width:40px;text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right}.consume-qty[_ngcontent-%COMP%]{width:100px;padding:6px 8px;text-align:right}.consume-qty[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.no-data[_ngcontent-%COMP%]{padding:40px 20px;text-align:center;color:#888}.no-data[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;color:#ccc}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0}.text-muted[_ngcontent-%COMP%]{font-size:13px;color:#999}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-top:1px solid #e0e0e0;background:#fafafa}.footer-summary[_ngcontent-%COMP%]{color:#555;font-size:14px}.footer-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;font-size:14px;display:inline-flex;align-items:center;gap:6px}.btn-sm[_ngcontent-%COMP%]{padding:6px 12px;font-size:13px}.btn-primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#1565c0}.btn-secondary[_ngcontent-%COMP%]{background:#e0e0e0;color:#333}.btn-secondary[_ngcontent-%COMP%]:hover{background:#d0d0d0}"]})}}return n})();var Nt=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275mod=ae({type:n})}static{this.\u0275inj=re({imports:[Z,J,X,K,Z,J,X,K]})}}return n})();var pn=(()=>{class n{constructor(e){this.http=e}getOrders(){return this.http.get(`${o.apiUrl}/orders`)}getOrdersPaged(e={}){let t=new y({fromObject:I(e)});return this.http.get(`${o.apiUrl}/orders/paged`,{params:t})}getAvailableOrders(){return this.http.get(`${o.apiUrl}/orders/available`)}getOrderById(e){return this.http.get(`${o.apiUrl}/orders/${e}`)}getOperationDetails(e){return this.http.get(`${o.apiUrl}/production/operations/${e}`)}confirmProduction(e){return this.http.post(`${o.apiUrl}/production/confirm`,e)}getConfirmationById(e){return this.http.get(`${o.apiUrl}/production/confirmations/${e}`)}getConfirmationsByStatus(e){return this.http.get(`${o.apiUrl}/production/confirmations/status/${e}`)}getAllInventory(){return this.http.get(`${o.apiUrl}/inventory`)}getInventoryPaged(e={}){let t=new y({fromObject:I(e)});return this.http.get(`${o.apiUrl}/inventory/paged`,{params:t})}getAvailableInventory(e){let t=new y;return e&&(t=t.set("materialId",e)),this.http.get(`${o.apiUrl}/inventory/available`,{params:t})}getInventoryByState(e){return this.http.get(`${o.apiUrl}/inventory/state/${e}`)}getInventoryByType(e){return this.http.get(`${o.apiUrl}/inventory/type/${e}`)}getInventoryById(e){return this.http.get(`${o.apiUrl}/inventory/${e}`)}getBlockedInventory(){return this.http.get(`${o.apiUrl}/inventory/blocked`)}getScrappedInventory(){return this.http.get(`${o.apiUrl}/inventory/scrapped`)}blockInventory(e,t){return this.http.post(`${o.apiUrl}/inventory/${e}/block`,{inventoryId:e,reason:t})}unblockInventory(e){return this.http.post(`${o.apiUrl}/inventory/${e}/unblock`,{})}scrapInventory(e,t){return this.http.post(`${o.apiUrl}/inventory/${e}/scrap`,{inventoryId:e,reason:t})}getReservedInventory(){return this.http.get(`${o.apiUrl}/inventory/reserved`)}getReservedForOrder(e){return this.http.get(`${o.apiUrl}/inventory/reserved/order/${e}`)}reserveInventory(e,t,i,g){return this.http.post(`${o.apiUrl}/inventory/${e}/reserve`,{inventoryId:e,orderId:t,operationId:i,quantity:g})}releaseReservation(e){return this.http.post(`${o.apiUrl}/inventory/${e}/release-reservation`,{})}createInventory(e){return this.http.post(`${o.apiUrl}/inventory`,e)}updateInventory(e,t){return this.http.put(`${o.apiUrl}/inventory/${e}`,t)}deleteInventory(e){return this.http.delete(`${o.apiUrl}/inventory/${e}`)}receiveMaterial(e){return this.http.post(`${o.apiUrl}/inventory/receive-material`,e)}getAllBatches(){return this.http.get(`${o.apiUrl}/batches`)}getBatchesPaged(e={}){let t=new y({fromObject:I(e)});return this.http.get(`${o.apiUrl}/batches/paged`,{params:t})}getBatchById(e){return this.http.get(`${o.apiUrl}/batches/${e}`)}getBatchGenealogy(e){return this.http.get(`${o.apiUrl}/batches/${e}/genealogy`)}getAvailableBatches(e){let t=new y;return e&&(t=t.set("materialId",e)),this.http.get(`${o.apiUrl}/batches/available`,{params:t})}getBatchesByStatus(e){return this.http.get(`${o.apiUrl}/batches/status/${e}`)}getProducedBatches(){return this.http.get(`${o.apiUrl}/batches/produced`)}createBatch(e){return this.http.post(`${o.apiUrl}/batches`,e)}updateBatch(e,t){return this.http.put(`${o.apiUrl}/batches/${e}`,t)}deleteBatch(e){return this.http.delete(`${o.apiUrl}/batches/${e}`)}previewBatchNumber(e,t){let i=new y;return e&&(i=i.set("operationType",e)),t&&(i=i.set("productSku",t)),this.http.get(`${o.apiUrl}/batches/preview-number`,{params:i})}allocateBatchToOrder(e){return this.http.post(`${o.apiUrl}/batch-allocations`,e)}releaseAllocation(e){return this.http.put(`${o.apiUrl}/batch-allocations/${e}/release`,{})}updateAllocationQuantity(e,t){return this.http.put(`${o.apiUrl}/batch-allocations/${e}/quantity`,t)}getBatchAllocations(e){return this.http.get(`${o.apiUrl}/batch-allocations/batch/${e}`)}getOrderLineAllocations(e){return this.http.get(`${o.apiUrl}/batch-allocations/order-line/${e}`)}getBatchAvailability(e){return this.http.get(`${o.apiUrl}/batch-allocations/batch/${e}/availability`)}getAllEquipment(){return this.http.get(`${o.apiUrl}/master/equipment`)}getEquipmentPaged(e={}){let t=new y({fromObject:I(e)});return this.http.get(`${o.apiUrl}/equipment/paged`,{params:t})}getAvailableEquipment(){return this.http.get(`${o.apiUrl}/master/equipment/available`)}getAllOperators(){return this.http.get(`${o.apiUrl}/master/operators`)}getActiveOperators(){return this.http.get(`${o.apiUrl}/master/operators/active`)}getEquipmentById(e){return this.http.get(`${o.apiUrl}/equipment/${e}`)}getEquipmentByStatus(e){return this.http.get(`${o.apiUrl}/equipment/status/${e}`)}getMaintenanceEquipment(){return this.http.get(`${o.apiUrl}/equipment/maintenance`)}getOnHoldEquipment(){return this.http.get(`${o.apiUrl}/equipment/on-hold`)}startEquipmentMaintenance(e,t,i){return this.http.post(`${o.apiUrl}/equipment/${e}/maintenance/start`,{equipmentId:e,reason:t,expectedEndTime:i})}endEquipmentMaintenance(e){return this.http.post(`${o.apiUrl}/equipment/${e}/maintenance/end`,{})}putEquipmentOnHold(e,t){return this.http.post(`${o.apiUrl}/equipment/${e}/hold`,{equipmentId:e,reason:t})}releaseEquipmentFromHold(e){return this.http.post(`${o.apiUrl}/equipment/${e}/release`,{})}createEquipment(e){return this.http.post(`${o.apiUrl}/equipment`,e)}updateEquipment(e,t){return this.http.put(`${o.apiUrl}/equipment/${e}`,t)}deleteEquipment(e){return this.http.delete(`${o.apiUrl}/equipment/${e}`)}getDelayReasons(){return this.http.get(`${o.apiUrl}/master/delay-reasons`)}getHoldReasons(){return this.http.get(`${o.apiUrl}/master/hold-reasons`)}getProcessParameters(e,t){let i=new y;return e&&(i=i.set("operationType",e)),t&&(i=i.set("productSku",t)),this.http.get(`${o.apiUrl}/master/process-parameters`,{params:i})}getEquipmentTypes(){return this.http.get(`${o.apiUrl}/master/equipment-types`)}getEquipmentTypeConfig(e){return this.http.get(`${o.apiUrl}/master/equipment-types/${e}`)}getActiveHolds(){return this.http.get(`${o.apiUrl}/holds/active`)}getHoldById(e){return this.http.get(`${o.apiUrl}/holds/${e}`)}getHoldsPaged(e={}){let t=new y({fromObject:I(e)});return this.http.get(`${o.apiUrl}/holds/paged`,{params:t})}getActiveHoldCount(){return this.http.get(`${o.apiUrl}/holds/count`)}applyHold(e){return this.http.post(`${o.apiUrl}/holds`,e)}releaseHold(e,t){return this.http.put(`${o.apiUrl}/holds/${e}/release`,{releaseComments:t})}checkEntityOnHold(e,t){return this.http.get(`${o.apiUrl}/holds/check/${e}/${t}`)}getHoldsByEntity(e,t){return this.http.get(`${o.apiUrl}/holds/entity/${e}/${t}`)}getBomRequirements(e){return this.http.get(`${o.apiUrl}/bom/${e}/requirements`)}getBomRequirementsForLevel(e,t){return this.http.get(`${o.apiUrl}/bom/${e}/requirements/level/${t}`)}validateBomConsumption(e){return this.http.post(`${o.apiUrl}/bom/validate`,e)}getSuggestedConsumption(e){return this.http.get(`${o.apiUrl}/bom/operation/${e}/suggested-consumption`)}getBomTree(e){return this.http.get(`${o.apiUrl}/bom/${e}/tree`)}getBomTreeByVersion(e,t){return this.http.get(`${o.apiUrl}/bom/${e}/tree/version/${t}`)}getBomList(e){return this.http.get(`${o.apiUrl}/bom/${e}/list`)}getBomNode(e){return this.http.get(`${o.apiUrl}/bom/node/${e}`)}getBomProducts(){return this.http.get(`${o.apiUrl}/bom/products`)}getBomProductsPaged(e){let t={page:e.page??0,size:e.size??20};return e.sortBy&&(t.sortBy=e.sortBy),e.sortDirection&&(t.sortDirection=e.sortDirection),e.search&&(t.search=e.search),this.http.get(`${o.apiUrl}/bom/products/paged`,{params:t})}getBomVersions(e){return this.http.get(`${o.apiUrl}/bom/${e}/versions`)}createBomNode(e){return this.http.post(`${o.apiUrl}/bom/node`,e)}createBomTree(e){return this.http.post(`${o.apiUrl}/bom/tree`,e)}updateBomNode(e,t){return this.http.put(`${o.apiUrl}/bom/node/${e}`,t)}moveBomNode(e,t){return this.http.put(`${o.apiUrl}/bom/node/${e}/move`,t)}deleteBomNode(e){return this.http.delete(`${o.apiUrl}/bom/node/${e}`)}deleteBomNodeCascade(e){return this.http.delete(`${o.apiUrl}/bom/node/${e}/cascade`)}deleteBomTree(e){return this.http.delete(`${o.apiUrl}/bom/${e}/tree`)}updateBomSettings(e,t){return this.http.put(`${o.apiUrl}/bom/${e}/settings`,t)}getDashboardSummary(){return this.http.get(`${o.apiUrl}/dashboard/summary`)}getAllProcesses(){return this.http.get(`${o.apiUrl}/processes`)}getActiveProcesses(){return this.http.get(`${o.apiUrl}/processes/active`)}getAllOperations(){return this.http.get(`${o.apiUrl}/operations`)}getOperationsPaged(e){let t={page:e.page??0,size:e.size??20};return e.sortBy&&(t.sortBy=e.sortBy),e.sortDirection&&(t.sortDirection=e.sortDirection),e.status&&(t.status=e.status),e.type&&(t.type=e.type),e.search&&(t.search=e.search),this.http.get(`${o.apiUrl}/operations/paged`,{params:t})}getOperationById(e){return this.http.get(`${o.apiUrl}/operations/${e}`)}getOperationsByStatus(e){return this.http.get(`${o.apiUrl}/operations/status/${e}`)}getBlockedOperations(){return this.http.get(`${o.apiUrl}/operations/blocked`)}blockOperation(e,t){return this.http.post(`${o.apiUrl}/operations/${e}/block`,{operationId:e,reason:t})}unblockOperation(e){return this.http.post(`${o.apiUrl}/operations/${e}/unblock`,{})}getActiveCustomers(){return this.http.get(`${o.apiUrl}/customers/active`)}getActiveMaterials(){return this.http.get(`${o.apiUrl}/materials/active`)}getActiveProducts(){return this.http.get(`${o.apiUrl}/products/active`)}createOrder(e){return this.http.post(`${o.apiUrl}/orders`,e)}updateOrder(e,t){return this.http.put(`${o.apiUrl}/orders/${e}`,t)}deleteOrder(e){return this.http.delete(`${o.apiUrl}/orders/${e}`)}addOrderLineItem(e,t){return this.http.post(`${o.apiUrl}/orders/${e}/line-items`,t)}updateOrderLineItem(e,t,i){return this.http.put(`${o.apiUrl}/orders/${e}/line-items/${t}`,i)}deleteOrderLineItem(e,t){return this.http.delete(`${o.apiUrl}/orders/${e}/line-items/${t}`)}static{this.\u0275fac=function(t){return new(t||n)(E(de))}}static{this.\u0275prov=A({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();export{mt as a,pn as b,tt as c,xe as d,ct as e,xt as f,Nt as g};
