import{a as b,b as Q}from"./chunk-2LY3JX5S.js";import{c as $}from"./chunk-GOYRN6BK.js";import{d as Y,e as G,g as U}from"./chunk-ADU7FNXD.js";import"./chunk-ZJBKTRW2.js";import"./chunk-FP6K47HW.js";import{$ as k,A as e,B as n,C as c,G as _,H as h,I as m,J as M,K as E,L as I,N as a,O as g,P as y,Q as L,Z as C,_ as B,ca as R,da as N,ea as V,ga as z,h as S,ia as F,j as A,k as P,ka as q,m as x,n as u,r as o,s as w,u as v,ua as j,va as H,w as p,x as D,xa as T}from"./chunk-EZLQYSV5.js";var X=["inventoryChart"],Z=["orderStatusChart"],tt=["batchStatusChart"];function et(i,d){if(i&1&&(e(0,"span",9),a(1),C(2,"date"),n()),i&2){let t=m();o(),y("Last updated: ",k(2,1,t.lastUpdated,"medium"),"")}}function nt(i,d){i&1&&(e(0,"div",10),c(1,"app-loading-spinner",11),n())}function it(i,d){i&1&&(e(0,"div",77),c(1,"i",46),n())}function at(i,d){if(i&1){let t=_();e(0,"div",68),v(1,it,2,0,"div",69),e(2,"div",70),h("click",function(){let r=x(t).$implicit,l=m(2);return u(l.navigateToInventoryType(r.type))}),e(3,"div",71),c(4,"i",72),n(),e(5,"div",73)(6,"span",74),a(7),n(),e(8,"span",75),a(9),n(),e(10,"span",76),a(11),n()()()()}if(i&2){let t=d.$implicit,s=d.index;o(),p("ngIf",s>0),o(),p("ngClass","stage-"+t.status),o(2),p("ngClass",t.icon),o(3),g(t.type),o(2),g(t.label),o(2),y("",t.count," available")}}function ot(i,d){if(i&1){let t=_();e(0,"div",82),h("click",function(){let r=x(t).$implicit,l=m(3);return u(l.navigateToOperationsByStatus(r.status))}),e(1,"span",83),a(2),n(),e(3,"span",84),a(4),C(5,"titlecase"),n()()}if(i&2){let t=d.$implicit;D("border-left-color",t.color),o(),D("color",t.color),o(),g(t.count),o(2),g(B(5,6,t.status))}}function rt(i,d){if(i&1&&(e(0,"div",78)(1,"h2",13),c(2,"i",79),a(3," Operations Status"),n(),e(4,"div",80),v(5,ot,6,8,"div",81),n()()),i&2){let t=m(2);o(5),p("ngForOf",t.operationsSummary)}}function st(i,d){if(i&1){let t=_();e(0,"div",91),h("click",function(){x(t);let r=m(3);return u(r.navigateToHolds())}),e(1,"div",92),c(2,"i",67),n(),e(3,"div",93)(4,"span",94),a(5),n(),e(6,"span",95),a(7,"Active Holds"),n()(),c(8,"i",96),n()}if(i&2){let t=m(3);o(5),g(t.summary.activeHolds)}}function lt(i,d){if(i&1){let t=_();e(0,"div",97),h("click",function(){x(t);let r=m(3);return u(r.navigateToBatchApproval())}),e(1,"div",92),c(2,"i",98),n(),e(3,"div",93)(4,"span",94),a(5),n(),e(6,"span",95),a(7,"Batches Pending Approval"),n()(),c(8,"i",96),n()}if(i&2){let t=m(3);o(5),g(t.summary.batchesPendingApproval)}}function ct(i,d){if(i&1){let t=_();e(0,"div",91),h("click",function(){x(t);let r=m(3);return u(r.navigateToQualityPending())}),e(1,"div",92),c(2,"i",99),n(),e(3,"div",93)(4,"span",94),a(5),n(),e(6,"span",95),a(7,"Quality Inspections Pending"),n()(),c(8,"i",96),n()}if(i&2){let t=m(3);o(5),g(t.summary.qualityPendingProcesses)}}function dt(i,d){if(i&1){let t=_();e(0,"div",100),h("click",function(){x(t);let r=m(3);return u(r.navigateToBlockedInventory())}),e(1,"div",92),c(2,"i",101),n(),e(3,"div",93)(4,"span",94),a(5),n(),e(6,"span",95),a(7,"Blocked Inventory"),n()(),c(8,"i",96),n()}if(i&2){let t=m(3);o(5),g(t.blockedInventoryCount)}}function pt(i,d){if(i&1&&(e(0,"div",85)(1,"h2",13),c(2,"i",86),a(3," Needs Attention"),n(),e(4,"div",87),v(5,st,9,1,"div",88)(6,lt,9,1,"div",89)(7,ct,9,1,"div",88)(8,dt,9,1,"div",90),n()()),i&2){let t=m(2);o(5),p("ngIf",t.summary.activeHolds>0),o(),p("ngIf",t.summary.batchesPendingApproval>0),o(),p("ngIf",t.summary.qualityPendingProcesses>0),o(),p("ngIf",t.blockedInventoryCount>0)}}function mt(i,d){if(i&1&&(e(0,"div",111),c(1,"i",114),e(2,"span"),a(3),n()()),i&2){let t=m().$implicit;o(3),g(t.equipmentName)}}function gt(i,d){if(i&1&&(e(0,"div",111),c(1,"i",115),e(2,"span"),a(3),n()()),i&2){let t=m().$implicit;o(3),g(t.operatorName)}}function ft(i,d){if(i&1){let t=_();e(0,"div",105),h("click",function(){let r=x(t).$implicit,l=m(3);return u(l.navigateToOrder(r.orderId))}),e(1,"div",106)(2,"span",107),a(3),n(),e(4,"span",108),c(5,"i",109),a(6," In Progress"),n()(),e(7,"div",110)(8,"div",111),c(9,"i",112),e(10,"span"),a(11),n()(),v(12,mt,4,1,"div",113)(13,gt,4,1,"div",113),n()()}if(i&2){let t=d.$implicit;o(3),g(t.operationType),o(8),g(t.operationName||"Operation #"+t.operationId),o(),p("ngIf",t.equipmentName),o(),p("ngIf",t.operatorName)}}function vt(i,d){if(i&1&&(e(0,"div",102)(1,"h2",13),c(2,"i",44),a(3," Currently Running"),n(),e(4,"div",103),v(5,ft,14,4,"div",104),n()()),i&2){let t=m(2);o(5),p("ngForOf",t.activeOperations)}}function xt(i,d){if(i&1&&(e(0,"span",116),a(1),n()),i&2){let t=m(2);o(),y(" ",t.summary.operationsReady," ready to start ")}}function ut(i,d){if(i&1){let t=_();e(0,"tr",119),h("click",function(){let r=x(t).$implicit,l=m(3);return u(l.navigateToOrder(r.orderId))}),e(1,"td",120),a(2),n(),e(3,"td"),a(4),n(),e(5,"td"),a(6),n(),e(7,"td"),c(8,"app-status-badge",121),n()()}if(i&2){let t=d.$implicit;o(2),g(t.orderNumber),o(2),g((t.lineItems==null||t.lineItems[0]==null?null:t.lineItems[0].productName)||"N/A"),o(2),g(t.customerName||"-"),o(2),p("status",t.status)}}function ht(i,d){if(i&1&&(e(0,"table",117)(1,"thead")(2,"tr")(3,"th"),a(4,"Order #"),n(),e(5,"th"),a(6,"Product"),n(),e(7,"th"),a(8,"Customer"),n(),e(9,"th"),a(10,"Status"),n()()(),e(11,"tbody"),v(12,ut,9,4,"tr",118),n()()),i&2){let t=m(2);o(12),p("ngForOf",t.availableOrders)}}function _t(i,d){i&1&&(e(0,"div",122),c(1,"i",123),e(2,"p"),a(3,"No orders ready for production"),n()())}function yt(i,d){if(i&1&&(e(0,"div",126)(1,"div",127),c(2,"i",128),n(),e(3,"div",129)(4,"div",130),a(5),n(),e(6,"div",131)(7,"span",132),a(8),n(),e(9,"span",133),a(10),n()(),e(11,"div",134),a(12),C(13,"date"),n()()()),i&2){let t=d.$implicit;o(5),g(t.operationName),o(3),g(t.productSku),o(2),y("",t.producedQty," units"),o(2),g(k(13,4,t.confirmedAt,"short"))}}function bt(i,d){if(i&1&&(e(0,"div",124),v(1,yt,14,7,"div",125),n()),i&2){let t=m(2);o(),p("ngForOf",t.summary.recentActivity)}}function Ct(i,d){i&1&&(e(0,"div",122),c(1,"i",135),e(2,"p"),a(3,"No recent activity"),n()())}function Ot(i,d){if(i&1){let t=_();e(0,"tr",119),h("click",function(){let r=x(t).$implicit,l=m(3);return u(l.navigateToBatch(r.batchId))}),e(1,"td",136),a(2),n(),e(3,"td"),a(4),n(),e(5,"td"),a(6),n(),e(7,"td"),a(8),C(9,"date"),n(),e(10,"td"),c(11,"app-status-badge",121),n()()}if(i&2){let t=d.$implicit;o(2),g(t.batchNumber),o(2),g(t.materialName||t.materialId),o(2),L("",t.quantity," ",t.unit,""),o(2),g(k(9,6,t.createdOn,"short")),o(3),p("status",t.status)}}function St(i,d){if(i&1&&(e(0,"table",117)(1,"thead")(2,"tr")(3,"th"),a(4,"Batch #"),n(),e(5,"th"),a(6,"Material"),n(),e(7,"th"),a(8,"Quantity"),n(),e(9,"th"),a(10,"Created"),n(),e(11,"th"),a(12,"Status"),n()()(),e(13,"tbody"),v(14,Ot,12,9,"tr",118),n()()),i&2){let t=m(2);o(14),p("ngForOf",t.recentBatches)}}function Pt(i,d){i&1&&(e(0,"div",122),c(1,"i",137),e(2,"p"),a(3,"No batches found"),n()())}function wt(i,d){if(i&1){let t=_();e(0,"div")(1,"div",12)(2,"h2",13),c(3,"i",14),a(4," Inventory Flow"),n(),e(5,"div",15),v(6,at,12,6,"div",16),n()(),v(7,rt,6,1,"div",17)(8,pt,9,4,"div",18)(9,vt,6,1,"div",19),e(10,"div",20)(11,"h2",13),c(12,"i",21),a(13," Key Metrics"),n(),e(14,"div",22)(15,"div",23),h("click",function(){x(t);let r=m();return u(r.navigateToOrders())}),e(16,"div",24)(17,"span",25),a(18,"Orders"),n(),e(19,"span",26),a(20),n()(),e(21,"div",27),a(22),n(),e(23,"div",28),v(24,xt,2,1,"span",29),n()(),e(25,"div",30)(26,"div",24)(27,"span",25),a(28,"Today's Production"),n()(),e(29,"div",27),a(30),n(),e(31,"div",28)(32,"span",31),a(33,"confirmations today"),n()()(),e(34,"div",23),h("click",function(){x(t);let r=m();return u(r.navigateToInventory())}),e(35,"div",24)(36,"span",25),a(37,"Inventory Items"),n()(),e(38,"div",27),a(39),n(),e(40,"div",32)(41,"span",33),a(42),n(),e(43,"span",34),a(44),n()()(),e(45,"div",23),h("click",function(){x(t);let r=m();return u(r.navigateToBatches())}),e(46,"div",24)(47,"span",25),a(48,"Active Batches"),n()(),e(49,"div",27),a(50),n(),e(51,"div",28)(52,"span",31),a(53),n()()()()(),e(54,"div",35)(55,"h2",13),c(56,"i",36),a(57," Analytics"),n(),e(58,"div",37)(59,"div",38)(60,"div",39),a(61,"Inventory Distribution"),n(),c(62,"div",40,0),n(),e(64,"div",38)(65,"div",39),a(66,"Order Status"),n(),c(67,"div",40,1),n(),e(69,"div",38)(70,"div",39),a(71,"Batch Status"),n(),c(72,"div",40,2),n()()(),e(74,"div",41)(75,"div",42)(76,"div",43)(77,"span"),c(78,"i",44),a(79," Orders Ready for Production"),n(),e(80,"a",45),a(81,"View All "),c(82,"i",46),n()(),e(83,"div",47),v(84,ht,13,1,"table",48)(85,_t,4,0,"div",49),n()(),e(86,"div",42)(87,"div",43)(88,"span"),c(89,"i",50),a(90," Recent Confirmations"),n()(),e(91,"div",47),v(92,bt,2,1,"div",51)(93,Ct,4,0,"div",49),n()()(),e(94,"div",42)(95,"div",43)(96,"span"),c(97,"i",52),a(98," Recent Batches"),n(),e(99,"a",53),a(100,"View All "),c(101,"i",46),n()(),e(102,"div",47),v(103,St,15,1,"table",48)(104,Pt,4,0,"div",49),n()(),e(105,"div",54)(106,"h2",13),c(107,"i",55),a(108," Quick Actions"),n(),e(109,"div",56)(110,"a",57)(111,"span",58),c(112,"i",59),n(),e(113,"span",60),a(114,"Confirm Production"),n()(),e(115,"a",61)(116,"span",58),c(117,"i",62),n(),e(118,"span",60),a(119,"Receive Material"),n()(),e(120,"a",63)(121,"span",58),c(122,"i",64),n(),e(123,"span",60),a(124,"View Orders"),n()(),e(125,"a",65)(126,"span",58),c(127,"i",52),n(),e(128,"span",60),a(129,"Batch Traceability"),n()(),e(130,"a",66)(131,"span",58),c(132,"i",67),n(),e(133,"span",60),a(134,"Manage Holds"),n()()()()()}if(i&2){let t=m();o(6),p("ngForOf",t.inventoryFlowStages),o(),p("ngIf",t.operationsSummary.length>0),o(),p("ngIf",t.hasAlerts()),o(),p("ngIf",t.activeOperations.length>0),o(11),y("",t.summary.ordersInProgress," in progress"),o(2),g(t.summary.totalOrders),o(2),p("ngIf",t.summary.operationsReady>0),o(6),g(t.summary.todayConfirmations),o(9),g(t.inventorySummary.total),o(3),y("",t.inventorySummary.available," available"),o(2),y("",t.inventorySummary.consumed," consumed"),o(6),g(t.activeBatchCount),o(3),y("",t.recentBatches.length," created recently"),o(31),p("ngIf",t.availableOrders.length>0),o(),p("ngIf",t.availableOrders.length===0),o(7),p("ngIf",t.summary.recentActivity&&t.summary.recentActivity.length>0),o(),p("ngIf",!(t.summary.recentActivity!=null&&t.summary.recentActivity.length)),o(10),p("ngIf",t.recentBatches.length>0),o(),p("ngIf",t.recentBatches.length===0)}}var K=(()=>{class i{constructor(t,s,r){this.apiService=t,this.router=s,this.chartService=r,this.chartsReady=!1,this.dataLoaded={inventory:!1,orders:!1,summary:!1,batches:!1},this.lastUpdated=new Date,this.allOrders=[],this.allBatches=[],this.summary={totalOrders:0,ordersInProgress:0,operationsReady:0,operationsInProgress:0,activeHolds:0,todayConfirmations:0,qualityPendingProcesses:0,batchesPendingApproval:0,recentActivity:[],auditActivity:[]},this.inventoryFlowStages=[{type:"RM",label:"Raw Materials",icon:"fa-cubes",count:0,status:"idle"},{type:"WIP",label:"Work in Progress",icon:"fa-gear",count:0,status:"idle"},{type:"IM",label:"Intermediates",icon:"fa-box",count:0,status:"idle"},{type:"FG",label:"Finished Goods",icon:"fa-box-check",count:0,status:"idle"}],this.operationsSummary=[],this.activeOperations=[],this.availableOrders=[],this.recentBatches=[],this.inventorySummary={total:0,available:0,consumed:0,onHold:0,blocked:0},this.blockedInventoryCount=0,this.activeBatchCount=0,this.loading=!0}ngOnInit(){this.loadDashboardData()}ngAfterViewInit(){this.chartsReady=!0,this.tryBuildCharts()}ngOnDestroy(){this.chartService.disposeAll()}loadDashboardData(){this.loading=!0,this.lastUpdated=new Date,this.dataLoaded={inventory:!1,orders:!1,summary:!1,batches:!1},this.apiService.getDashboardSummary().subscribe({next:t=>{this.summary=t,this.dataLoaded.summary=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading dashboard summary:",t),this.dataLoaded.summary=!0,this.checkLoadingComplete()}}),this.apiService.getAvailableOrders().subscribe({next:t=>{this.availableOrders=t.slice(0,5)},error:t=>console.error("Error loading orders:",t)}),this.apiService.getAllBatches().subscribe({next:t=>{this.allBatches=t,this.recentBatches=t.slice(0,5),this.activeBatchCount=t.filter(s=>s.status==="AVAILABLE"||s.status==="QUALITY_PENDING"||s.status==="PRODUCED").length,this.dataLoaded.batches=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading batches:",t),this.dataLoaded.batches=!0,this.checkLoadingComplete()}}),this.apiService.getAllInventory().subscribe({next:t=>{this.inventorySummary.total=t.length,this.inventorySummary.available=t.filter(f=>f.state==="AVAILABLE").length,this.inventorySummary.consumed=t.filter(f=>f.state==="CONSUMED").length,this.inventorySummary.onHold=t.filter(f=>f.state==="ON_HOLD").length,this.inventorySummary.blocked=t.filter(f=>f.state==="BLOCKED").length,this.blockedInventoryCount=this.inventorySummary.blocked;let s=t.filter(f=>f.inventoryType==="RM"&&f.state==="AVAILABLE").length,r=t.filter(f=>f.inventoryType==="WIP"&&f.state==="AVAILABLE").length,l=t.filter(f=>f.inventoryType==="IM"&&f.state==="AVAILABLE").length,O=t.filter(f=>f.inventoryType==="FG"&&f.state==="AVAILABLE").length;this.inventoryFlowStages[0].count=s,this.inventoryFlowStages[0].status=s>0?"active":"idle",this.inventoryFlowStages[1].count=r,this.inventoryFlowStages[1].status=r>0?"active":"idle",this.inventoryFlowStages[2].count=l,this.inventoryFlowStages[2].status=l>0?"active":"idle",this.inventoryFlowStages[3].count=O,this.inventoryFlowStages[3].status=O>0?"active":"idle",this.dataLoaded.inventory=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading inventory:",t),this.dataLoaded.inventory=!0,this.checkLoadingComplete()}}),this.apiService.getOrders().subscribe({next:t=>{this.allOrders=t,this.dataLoaded.orders=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading all orders:",t),this.dataLoaded.orders=!0,this.checkLoadingComplete()}}),this.apiService.getQualityPendingProcesses().subscribe({next:t=>{this.summary.qualityPendingProcesses=t.length},error:t=>console.error("Error loading quality pending processes:",t)}),this.apiService.getAllOperations().subscribe({next:t=>{let s={};t.forEach(l=>{s[l.status]=(s[l.status]||0)+1});let r={NOT_STARTED:"#9e9e9e",READY:"#4caf50",IN_PROGRESS:"#1976d2",CONFIRMED:"#388e3c",ON_HOLD:"#f44336",BLOCKED:"#d32f2f"};this.operationsSummary=Object.keys(s).map(l=>({status:l,count:s[l],color:r[l]||"#666"})).sort((l,O)=>{let f=["NOT_STARTED","READY","IN_PROGRESS","CONFIRMED","ON_HOLD","BLOCKED"];return f.indexOf(l.status)-f.indexOf(O.status)}),this.activeOperations=t.filter(l=>l.status==="IN_PROGRESS").slice(0,5)},error:()=>{}})}checkLoadingComplete(){this.dataLoaded.inventory&&this.dataLoaded.orders&&this.dataLoaded.summary&&this.dataLoaded.batches&&(this.loading=!1,this.tryBuildCharts())}hasAlerts(){return this.summary.activeHolds>0||this.summary.batchesPendingApproval>0||this.summary.qualityPendingProcesses>0||this.blockedInventoryCount>0}navigateToQualityPending(){this.router.navigate(["/processes/quality-pending"])}navigateToOrder(t){this.router.navigate(["/orders",t])}navigateToBatch(t){this.router.navigate(["/batches",t])}navigateToHolds(){this.router.navigate(["/holds"])}navigateToOrders(){this.router.navigate(["/orders"])}navigateToInventory(){this.router.navigate(["/inventory"])}navigateToBatches(){this.router.navigate(["/batches"])}navigateToBatchApproval(){this.router.navigate(["/batches"],{queryParams:{status:"QUALITY_PENDING"}})}navigateToBlockedInventory(){this.router.navigate(["/inventory"],{queryParams:{state:"BLOCKED"}})}navigateToInventoryType(t){this.router.navigate(["/inventory"],{queryParams:{type:t}})}navigateToOperationsByStatus(t){this.router.navigate(["/orders"],{queryParams:{operationStatus:t}})}tryBuildCharts(){!this.chartsReady||this.loading||setTimeout(()=>{this.buildInventoryChart(),this.buildOrderStatusChart(),this.buildBatchStatusChart()},0)}buildInventoryChart(){this.inventoryChartRef&&(this.chartService.initChart(this.inventoryChartRef.nativeElement,"dashboard-inventory"),this.chartService.setOption("dashboard-inventory",{tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)",textStyle:{fontSize:b.tooltip}},legend:{bottom:0,left:"center",textStyle:{fontSize:b.label}},series:[{type:"pie",radius:["40%","70%"],center:["50%","45%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:b.emphasis,fontWeight:"bold"}},data:[{value:this.inventorySummary.available,name:"Available",itemStyle:{color:"#4caf50"}},{value:this.inventorySummary.consumed,name:"Consumed",itemStyle:{color:"#9e9e9e"}},{value:this.inventorySummary.onHold,name:"On Hold",itemStyle:{color:"#ff9800"}},{value:this.inventorySummary.blocked,name:"Blocked",itemStyle:{color:"#f44336"}}].filter(t=>t.value>0)}]}))}buildOrderStatusChart(){if(!this.orderStatusChartRef||this.allOrders.length===0)return;let t={};this.allOrders.forEach(l=>{t[l.status]=(t[l.status]||0)+1});let s={DRAFT:"#9e9e9e",PENDING:"#ff9800",READY:"#4caf50",IN_PROGRESS:"#1976d2",COMPLETED:"#388e3c",CANCELLED:"#d32f2f",ON_HOLD:"#f44336"},r=Object.keys(t);this.chartService.initChart(this.orderStatusChartRef.nativeElement,"dashboard-orders"),this.chartService.setOption("dashboard-orders",{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:b.tooltip}},grid:{left:40,right:20,bottom:30,top:20},xAxis:{type:"category",data:r,axisLabel:{fontSize:b.axisLabel,rotate:30}},yAxis:{type:"value",minInterval:1},series:[{type:"bar",data:r.map(l=>({value:t[l],itemStyle:{color:s[l]||"#1976d2"}})),barMaxWidth:40,itemStyle:{borderRadius:[4,4,0,0]}}]})}buildBatchStatusChart(){if(!this.batchStatusChartRef||this.allBatches.length===0)return;let t={};this.allBatches.forEach(l=>{t[l.status]=(t[l.status]||0)+1});let s={QUALITY_PENDING:"#ff9800",AVAILABLE:"#4caf50",PRODUCED:"#1976d2",CONSUMED:"#9e9e9e",BLOCKED:"#f44336",SCRAPPED:"#795548",ON_HOLD:"#e91e63"},r=Object.keys(t);this.chartService.initChart(this.batchStatusChartRef.nativeElement,"dashboard-batches"),this.chartService.setOption("dashboard-batches",{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:b.tooltip}},grid:{left:40,right:20,bottom:30,top:20},xAxis:{type:"category",data:r,axisLabel:{fontSize:b.axisLabel,rotate:30}},yAxis:{type:"value",minInterval:1},series:[{type:"bar",data:r.map(l=>({value:t[l],itemStyle:{color:s[l]||"#1976d2"}})),barMaxWidth:40,itemStyle:{borderRadius:[4,4,0,0]}}]})}static{this.\u0275fac=function(s){return new(s||i)(w($),w(j),w(Q))}}static{this.\u0275cmp=A({type:i,selectors:[["app-dashboard"]],viewQuery:function(s,r){if(s&1&&(M(X,5),M(Z,5),M(tt,5)),s&2){let l;E(l=I())&&(r.inventoryChartRef=l.first),E(l=I())&&(r.orderStatusChartRef=l.first),E(l=I())&&(r.batchStatusChartRef=l.first)}},decls:7,vars:3,consts:[["inventoryChart",""],["orderStatusChart",""],["batchStatusChart",""],[1,"dashboard-page"],[1,"page-header"],[1,"page-title"],["class","last-updated",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"last-updated"],[1,"text-center"],["message","Loading dashboard..."],[1,"inventory-flow-section"],[1,"section-title"],[1,"fas","fa-arrows-turn-right"],[1,"inventory-flow"],["class","flow-stage",4,"ngFor","ngForOf"],["class","operations-summary-section",4,"ngIf"],["class","alerts-section",4,"ngIf"],["class","active-operations-section",4,"ngIf"],[1,"metrics-section"],[1,"fas","fa-chart-simple"],[1,"metrics-grid"],[1,"metric-card",3,"click"],[1,"metric-header"],[1,"metric-label"],[1,"metric-badge"],[1,"metric-value"],[1,"metric-footer"],["class","metric-change positive",4,"ngIf"],[1,"metric-card"],[1,"metric-sublabel"],[1,"metric-breakdown"],[1,"breakdown-item","available"],[1,"breakdown-item","consumed"],[1,"charts-section"],[1,"fas","fa-chart-pie"],[1,"charts-grid"],[1,"card","chart-card"],[1,"chart-title"],[1,"chart-container"],[1,"dashboard-grid"],[1,"card"],[1,"card-header"],[1,"fas","fa-play-circle"],["routerLink","/orders",1,"view-all"],[1,"fas","fa-arrow-right"],[1,"card-body"],["class","table",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"fas","fa-clock-rotate-left"],["class","activity-list",4,"ngIf"],[1,"fas","fa-cubes"],["routerLink","/batches",1,"view-all"],[1,"quick-actions-section"],[1,"fas","fa-bolt"],[1,"quick-actions"],["routerLink","/production",1,"action-btn","primary"],[1,"action-icon"],[1,"fas","fa-industry"],[1,"action-label"],["routerLink","/inventory/receive",1,"action-btn","success"],[1,"fas","fa-download"],["routerLink","/orders",1,"action-btn"],[1,"fas","fa-list"],["routerLink","/batches",1,"action-btn"],["routerLink","/holds",1,"action-btn","warning"],[1,"fas","fa-circle-pause"],[1,"flow-stage"],["class","flow-connector",4,"ngIf"],[1,"flow-card",3,"click","ngClass"],[1,"flow-icon"],[1,"fas",3,"ngClass"],[1,"flow-info"],[1,"flow-type"],[1,"flow-label"],[1,"flow-count"],[1,"flow-connector"],[1,"operations-summary-section"],[1,"fas","fa-tasks"],[1,"operations-summary"],["class","operation-status-card",3,"border-left-color","click",4,"ngFor","ngForOf"],[1,"operation-status-card",3,"click"],[1,"op-count"],[1,"op-status"],[1,"alerts-section"],[1,"fas","fa-bell"],[1,"alerts-grid"],["class","alert-card warning",3,"click",4,"ngIf"],["class","alert-card info",3,"click",4,"ngIf"],["class","alert-card danger",3,"click",4,"ngIf"],[1,"alert-card","warning",3,"click"],[1,"alert-icon"],[1,"alert-content"],[1,"alert-count"],[1,"alert-label"],[1,"fas","fa-chevron-right","alert-arrow"],[1,"alert-card","info",3,"click"],[1,"fas","fa-clipboard-check"],[1,"fas","fa-magnifying-glass"],[1,"alert-card","danger",3,"click"],[1,"fas","fa-ban"],[1,"active-operations-section"],[1,"active-operations-grid"],["class","active-op-card",3,"click",4,"ngFor","ngForOf"],[1,"active-op-card",3,"click"],[1,"active-op-header"],[1,"active-op-type"],[1,"active-op-status"],[1,"fas","fa-circle"],[1,"active-op-details"],[1,"active-op-item"],[1,"fas","fa-hashtag"],["class","active-op-item",4,"ngIf"],[1,"fas","fa-cog"],[1,"fas","fa-user"],[1,"metric-change","positive"],[1,"table"],["class","clickable",3,"click",4,"ngFor","ngForOf"],[1,"clickable",3,"click"],[1,"order-number"],[3,"status"],[1,"empty-state"],[1,"fas","fa-inbox"],[1,"activity-list"],["class","activity-item",4,"ngFor","ngForOf"],[1,"activity-item"],[1,"activity-icon"],[1,"fas","fa-check"],[1,"activity-info"],[1,"activity-title"],[1,"activity-details"],[1,"product-sku"],[1,"qty-badge"],[1,"activity-time"],[1,"fas","fa-history"],[1,"batch-number"],[1,"fas","fa-boxes-stacked"]],template:function(s,r){s&1&&(e(0,"div",3)(1,"div",4)(2,"h1",5),a(3,"Production Dashboard"),n(),v(4,et,3,4,"span",6),n(),v(5,nt,2,0,"div",7)(6,wt,135,19,"div",8),n()),s&2&&(o(4),p("ngIf",!r.loading),o(),p("ngIf",r.loading),o(),p("ngIf",!r.loading))},dependencies:[R,N,V,H,Y,G,z,F],styles:[".dashboard-page[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#1a1a1a;margin:0}.last-updated[_ngcontent-%COMP%]{font-size:13px;color:#888}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 16px;display:flex;align-items:center;gap:8px}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1976d2}.inventory-flow-section[_ngcontent-%COMP%]{margin-bottom:24px}.inventory-flow[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #00000014;overflow-x:auto;gap:8px}.flow-stage[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;min-width:0}.flow-connector[_ngcontent-%COMP%]{color:#1976d2;font-size:20px;margin:0 12px;flex-shrink:0}.flow-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:#f8f9fa;border-radius:10px;flex:1;min-width:140px;transition:all .3s;border:2px solid transparent;cursor:pointer}.flow-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.flow-card.stage-active[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#1976d2}.flow-card.stage-idle[_ngcontent-%COMP%]{background:#f5f5f5;border-color:#e0e0e0}.flow-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#e0e0e0;display:flex;align-items:center;justify-content:center;font-size:20px;color:#666;flex-shrink:0}.stage-active[_ngcontent-%COMP%]   .flow-icon[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.flow-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.flow-type[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#1976d2}.flow-label[_ngcontent-%COMP%]{font-size:12px;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.flow-count[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#333;margin-top:4px}.operations-summary-section[_ngcontent-%COMP%]{margin-bottom:24px}.operations-summary[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.operation-status-card[_ngcontent-%COMP%]{flex:1;min-width:120px;max-width:200px;background:#fff;border-radius:10px;padding:16px 20px;border-left:4px solid;box-shadow:0 2px 6px #0000000f;cursor:pointer;transition:all .2s;display:flex;flex-direction:column;align-items:center}.operation-status-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.op-count[_ngcontent-%COMP%]{font-size:28px;font-weight:700;line-height:1}.op-status[_ngcontent-%COMP%]{font-size:12px;color:#666;margin-top:4px;text-transform:capitalize}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.active-operations-section[_ngcontent-%COMP%]{margin-bottom:24px}.active-operations-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}.active-op-card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:16px;box-shadow:0 2px 8px #0000000f;border-left:4px solid #1976d2;cursor:pointer;transition:all .2s}.active-op-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.active-op-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.active-op-type[_ngcontent-%COMP%]{font-weight:600;font-size:15px;color:#333}.active-op-status[_ngcontent-%COMP%]{font-size:12px;color:#1976d2;display:flex;align-items:center;gap:6px}.active-op-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8px;animation:_ngcontent-%COMP%_pulse 1.5s infinite}.active-op-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.active-op-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:13px;color:#666}.active-op-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px;color:#999}.alerts-section[_ngcontent-%COMP%]{margin-bottom:24px}.alerts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.alert-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#fff;border-radius:10px;cursor:pointer;transition:all .2s;border-left:4px solid}.alert-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.alert-card.warning[_ngcontent-%COMP%]{border-color:#ff9800;background:#fff8e1}.alert-card.danger[_ngcontent-%COMP%]{border-color:#f44336;background:#ffebee}.alert-card.info[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.alert-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}.alert-card.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.alert-card.danger[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#f44336;color:#fff}.alert-card.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.alert-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.alert-count[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333}.alert-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.alert-arrow[_ngcontent-%COMP%]{color:#ccc;font-size:14px}.metrics-section[_ngcontent-%COMP%]{margin-bottom:24px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f;cursor:pointer;transition:all .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001a}.metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.metric-badge[_ngcontent-%COMP%]{font-size:11px;padding:3px 8px;border-radius:10px;background:#e3f2fd;color:#1976d2;font-weight:500}.metric-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#1a1a1a;line-height:1.1}.metric-footer[_ngcontent-%COMP%]{margin-top:8px}.metric-change[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.metric-change.positive[_ngcontent-%COMP%]{color:#4caf50}.metric-sublabel[_ngcontent-%COMP%]{font-size:12px;color:#888}.metric-breakdown[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.breakdown-item[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.breakdown-item.available[_ngcontent-%COMP%]{color:#4caf50}.breakdown-item.consumed[_ngcontent-%COMP%]{color:#9e9e9e}.charts-section[_ngcontent-%COMP%]{margin-bottom:24px}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f}.chart-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin-bottom:12px;text-align:center}.chart-container[_ngcontent-%COMP%]{width:100%;height:250px}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:#333;margin-bottom:16px}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#1976d2}.view-all[_ngcontent-%COMP%]{font-size:13px;color:#1976d2;text-decoration:none;font-weight:500;display:flex;align-items:center;gap:4px}.view-all[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-body[_ngcontent-%COMP%]{min-height:200px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px 8px;font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #eee}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;font-size:14px;border-bottom:1px solid #f0f0f0}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.order-number[_ngcontent-%COMP%], .batch-number[_ngcontent-%COMP%]{font-weight:600;color:#1976d2}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#888}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;color:#ddd}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.activity-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;background:#f8f9fa;border-radius:8px}.activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#4caf50;color:#fff;display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0}.activity-info[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-title[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:14px}.activity-details[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:4px}.product-sku[_ngcontent-%COMP%]{font-size:13px;color:#666}.qty-badge[_ngcontent-%COMP%]{font-size:12px;padding:2px 8px;background:#e8f5e9;color:#388e3c;border-radius:10px;font-weight:500}.activity-time[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-top:4px}.quick-actions-section[_ngcontent-%COMP%]{margin-bottom:24px}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{flex:1;min-width:140px;display:flex;flex-direction:column;align-items:center;padding:24px 16px;background:#fff;border-radius:12px;text-decoration:none;color:#333;transition:all .2s;box-shadow:0 2px 8px #0000000f}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.action-btn.primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.action-btn.success[_ngcontent-%COMP%]{background:#388e3c;color:#fff}.action-btn.warning[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.action-icon[_ngcontent-%COMP%]{font-size:28px;margin-bottom:8px}.action-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-align:center}@media (max-width: 1200px){.alerts-grid[_ngcontent-%COMP%], .metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 768px){.dashboard-page[_ngcontent-%COMP%]{padding:16px}.process-pipeline[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.stage-connector[_ngcontent-%COMP%]{width:3px;height:20px;margin:0}.pipeline-stage[_ngcontent-%COMP%]{flex-direction:column}.alerts-grid[_ngcontent-%COMP%], .metrics-grid[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;gap:16px;padding:16px}.action-icon[_ngcontent-%COMP%]{margin-bottom:0}}"]})}}return i})();var Mt=[{path:"",component:K}],J=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=P({type:i})}static{this.\u0275inj=S({imports:[T.forChild(Mt),T]})}}return i})();var Qt=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=P({type:i})}static{this.\u0275inj=S({imports:[q,J,U]})}}return i})();export{Qt as DashboardModule};
