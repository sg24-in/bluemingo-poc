import{$a as T,Aa as P,B as a,D as _,Da as b,F as i,Fa as w,G as o,H as u,Ha as S,Ia as p,Ja as O,Ka as I,M as x,Ma as E,N as h,Pa as L,Sa as F,T as l,V as C,Za as k,_a as N,ka as M,m as c,o as v,p as f,qa as y,w as r,x as g,z as m}from"./chunk-SXRLIX2W.js";function A(e,d){e&1&&(i(0,"span"),l(1,"Email is required"),o())}function D(e,d){e&1&&(i(0,"span"),l(1,"Please enter a valid email"),o())}function R(e,d){if(e&1&&(i(0,"div",15),m(1,A,2,0,"span",12)(2,D,2,0,"span",12),o()),e&2){let t=h();r(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.required),r(),a("ngIf",t.f.email.errors==null?null:t.f.email.errors.email)}}function G(e,d){e&1&&(i(0,"span"),l(1,"Password is required"),o())}function V(e,d){e&1&&(i(0,"span"),l(1,"Password must be at least 6 characters"),o())}function B(e,d){if(e&1&&(i(0,"div",15),m(1,G,2,0,"span",12)(2,V,2,0,"span",12),o()),e&2){let t=h();r(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.required),r(),a("ngIf",t.f.password.errors==null?null:t.f.password.errors.minlength)}}function H(e,d){if(e&1&&(i(0,"div",16),l(1),o()),e&2){let t=h();r(),C(" ",t.error," ")}}function J(e,d){e&1&&(i(0,"span"),l(1,"Sign In"),o())}function K(e,d){e&1&&u(0,"span",17)}var z=(()=>{class e{constructor(t,s,n){this.fb=t,this.authService=s,this.router=n,this.loading=!1,this.error="",this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}ngOnInit(){this.authService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onSubmit(){this.loginForm.invalid||(this.loading=!0,this.error="",this.authService.login(this.loginForm.value).subscribe({next:()=>{this.loading=!1,this.router.navigate(["/dashboard"])},error:t=>{this.loading=!1,this.error=t.error?.message||"Invalid email or password"}}))}get f(){return this.loginForm.controls}static{this.\u0275fac=function(s){return new(s||e)(g(k),g(w),g(P))}}static{this.\u0275cmp=v({type:e,selectors:[["app-login"]],decls:25,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","error-message",4,"ngIf"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Enter your password",1,"form-control"],["class","alert alert-error",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],[4,"ngIf"],["class","spinner",4,"ngIf"],[1,"login-footer"],[1,"error-message"],[1,"alert","alert-error"],[1,"spinner"]],template:function(s,n){s&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"MES Production"),o(),i(5,"p"),l(6,"Sign in to your account"),o()(),i(7,"form",3),x("ngSubmit",function(){return n.onSubmit()}),i(8,"div",4)(9,"label",5),l(10,"Email"),o(),u(11,"input",6),m(12,R,3,2,"div",7),o(),i(13,"div",4)(14,"label",8),l(15,"Password"),o(),u(16,"input",9),m(17,B,3,2,"div",7),o(),m(18,H,2,1,"div",10),i(19,"button",11),m(20,J,2,0,"span",12)(21,K,1,0,"span",13),o()(),i(22,"div",14)(23,"p"),l(24,"Demo credentials: admin@mes.com / admin123"),o()()()()),s&2&&(r(7),a("formGroup",n.loginForm),r(4),_("error",n.f.email.touched&&n.f.email.invalid),r(),a("ngIf",n.f.email.touched&&n.f.email.invalid),r(4),_("error",n.f.password.touched&&n.f.password.invalid),r(),a("ngIf",n.f.password.touched&&n.f.password.invalid),r(),a("ngIf",n.error),r(),a("disabled",n.loading||n.loginForm.invalid),r(),a("ngIf",!n.loading),r(),a("ngIf",n.loading))},dependencies:[M,E,S,O,I,L,F],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1976d2,#1565c0);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 4px 20px #00000026;padding:40px;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1976d2;font-size:28px;font-weight:500;margin-bottom:8px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:14px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:500;color:#333;font-size:14px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.form-control.error[_ngcontent-%COMP%]{border-color:#d32f2f}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:12px;margin-top:4px}.btn-block[_ngcontent-%COMP%]{display:block;width:100%;padding:14px;font-size:16px}.btn-primary[_ngcontent-%COMP%]{background-color:#1976d2;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#1565c0}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#90caf9;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:24px;text-align:center;color:#888;font-size:12px}.alert[_ngcontent-%COMP%]{padding:12px;border-radius:4px;margin-bottom:16px}.alert-error[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border:1px solid #ef9a9a}"]})}}return e})();var Q=[{path:"",component:z}],q=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=c({imports:[b.forChild(Q),b]})}}return e})();var de=(()=>{class e{static{this.\u0275fac=function(s){return new(s||e)}}static{this.\u0275mod=f({type:e})}static{this.\u0275inj=c({imports:[y,N,T,q]})}}return e})();export{de as AuthModule};
