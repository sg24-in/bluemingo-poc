import{c as y}from"./chunk-GOYRN6BK.js";import{d as le,g as se}from"./chunk-ADU7FNXD.js";import"./chunk-ZJBKTRW2.js";import"./chunk-FP6K47HW.js";import{$ as G,A as i,Aa as N,B as t,Ba as O,C as h,Ca as F,Da as $,Ea as ee,Fa as te,G as C,H as m,I as p,Ia as ie,La as ne,M as W,Ma as z,N as n,Na as A,O as g,Oa as j,P as v,Q as H,R as J,Sa as re,T,Ta as oe,U as k,Ua as ae,V,Z as q,aa as U,ca as D,da as K,ea as E,h as P,ia as X,j as S,k as w,ka as Y,m as d,n as c,r as a,s as x,sa as L,u as _,ua as M,w as s,xa as Q,y as R}from"./chunk-EZLQYSV5.js";function xe(r,u){if(r&1){let e=C();i(0,"tr")(1,"td"),n(2),t(),i(3,"td"),n(4),t(),i(5,"td"),n(6),t(),i(7,"td"),n(8),t(),i(9,"td")(10,"span",23),n(11),t()(),i(12,"td",24)(13,"button",25),m("click",function(){let l=d(e).$implicit,f=p(3);return c(f.editOperator(l))}),n(14," Edit "),t(),i(15,"button",26),m("click",function(){let l=d(e).$implicit,f=p(3);return c(f.openDeleteModal(l))}),n(16," Delete "),t()()()}if(r&2){let e=u.$implicit;a(2),g(e.operatorCode),a(2),g(e.name),a(2),g(e.department||"-"),a(2),g(e.shift||"-"),a(2),s("ngClass",e.status.toLowerCase()),a(),v(" ",e.status," "),a(4),s("disabled",e.status==="INACTIVE")}}function he(r,u){if(r&1&&(i(0,"table",21)(1,"thead")(2,"tr")(3,"th"),n(4,"Code"),t(),i(5,"th"),n(6,"Name"),t(),i(7,"th"),n(8,"Department"),t(),i(9,"th"),n(10,"Shift"),t(),i(11,"th"),n(12,"Status"),t(),i(13,"th"),n(14,"Actions"),t()()(),i(15,"tbody"),_(16,xe,17,7,"tr",22),t()()),r&2){let e=p(2);a(16),s("ngForOf",e.operators)}}function ve(r,u){if(r&1){let e=C();i(0,"div",27)(1,"p"),n(2,"No operators found."),t(),i(3,"button",4),m("click",function(){d(e);let l=p(2);return c(l.createOperator())}),n(4,"Create First Operator"),t()()}}function Ce(r,u){if(r&1){let e=C();i(0,"div",28)(1,"div",29),n(2),t(),i(3,"div",30)(4,"button",31),m("click",function(){d(e);let l=p(2);return c(l.onPageChange(l.page-1))}),n(5," Previous "),t(),i(6,"span",32),n(7),t(),i(8,"button",31),m("click",function(){d(e);let l=p(2);return c(l.onPageChange(l.page+1))}),n(9," Next "),t()(),i(10,"div",33)(11,"label",34),n(12,"Show:"),t(),i(13,"select",35),V("ngModelChange",function(l){d(e);let f=p(2);return k(f.size,l)||(f.size=l),c(l)}),m("ngModelChange",function(l){d(e);let f=p(2);return c(f.onSizeChange(l))}),i(14,"option",36),n(15,"10"),t(),i(16,"option",36),n(17,"20"),t(),i(18,"option",36),n(19,"50"),t(),i(20,"option",36),n(21,"100"),t()()()()}if(r&2){let e=p(2);a(2),J(" Showing ",e.page*e.size+1," - ",e.page*e.size+e.operators.length," of ",e.totalElements," "),a(2),s("disabled",!e.hasPrevious),a(3),H("Page ",e.page+1," of ",e.totalPages,""),a(),s("disabled",!e.hasNext),a(5),T("ngModel",e.size),a(),s("ngValue",10),a(2),s("ngValue",20),a(2),s("ngValue",50),a(2),s("ngValue",100)}}function be(r,u){if(r&1&&(i(0,"div",18),_(1,he,17,1,"table",19)(2,ve,5,0,"ng-template",null,1,U)(4,Ce,22,12,"div",20),t()),r&2){let e=W(3),o=p();a(),s("ngIf",o.operators.length>0)("ngIfElse",e),a(3),s("ngIf",o.operators.length>0)}}function Oe(r,u){r&1&&(i(0,"div",37),n(1,"Loading operators..."),t())}function Se(r,u){if(r&1&&(i(0,"div",49),n(1),t()),r&2){let e=p(2);a(),g(e.deleteError)}}function Ee(r,u){if(r&1){let e=C();i(0,"div",38),m("click",function(){d(e);let l=p();return c(l.closeDeleteModal())}),i(1,"div",39),m("click",function(l){return d(e),c(l.stopPropagation())}),i(2,"div",40)(3,"h2"),n(4,"Delete Operator"),t(),i(5,"button",41),m("click",function(){d(e);let l=p();return c(l.closeDeleteModal())}),h(6,"i",42),t()(),i(7,"div",43)(8,"p"),n(9,"Are you sure you want to delete operator "),i(10,"strong"),n(11),t(),n(12),t(),i(13,"p",44),n(14,"This will mark the operator as inactive."),t(),_(15,Se,2,1,"div",45),t(),i(16,"div",46)(17,"button",47),m("click",function(){d(e);let l=p();return c(l.closeDeleteModal())}),n(18," Cancel "),t(),i(19,"button",48),m("click",function(){d(e);let l=p();return c(l.confirmDelete())}),n(20),t()()()()}if(r&2){let e=p();a(11),g(e.operatorToDelete==null?null:e.operatorToDelete.name),a(),v(" (",e.operatorToDelete==null?null:e.operatorToDelete.operatorCode,")?"),a(3),s("ngIf",e.deleteError),a(2),s("disabled",e.deleteLoading),a(2),s("disabled",e.deleteLoading),a(),v(" ",e.deleteLoading?"Deleting...":"Delete"," ")}}var me=(()=>{class r{constructor(e,o){this.apiService=e,this.router=o,this.operators=[],this.loading=!0,this.page=0,this.size=20,this.totalElements=0,this.totalPages=0,this.hasNext=!1,this.hasPrevious=!1,this.filterStatus="",this.searchTerm="",this.showDeleteModal=!1,this.operatorToDelete=null,this.deleteLoading=!1,this.deleteError=""}ngOnInit(){this.loadOperators()}loadOperators(){this.loading=!0;let e={page:this.page,size:this.size,sortBy:"operatorCode",sortDirection:"ASC",status:this.filterStatus||void 0,search:this.searchTerm||void 0};this.apiService.getOperatorsPaged(e).subscribe({next:o=>{this.operators=o.content,this.page=o.page,this.size=o.size,this.totalElements=o.totalElements,this.totalPages=o.totalPages,this.hasNext=o.hasNext,this.hasPrevious=o.hasPrevious,this.loading=!1},error:o=>{console.error("Error loading operators:",o),this.loading=!1}})}onPageChange(e){this.page=e,this.loadOperators()}onSizeChange(e){this.size=e,this.page=0,this.loadOperators()}onFilterStatusChange(e){this.filterStatus=e==="all"?"":e,this.page=0,this.loadOperators()}onSearchChange(e){this.searchTerm=e,this.page=0,this.loadOperators()}createOperator(){this.router.navigate(["/manage/operators/new"])}editOperator(e){this.router.navigate(["/manage/operators",e.operatorId,"edit"])}openDeleteModal(e){this.operatorToDelete=e,this.deleteError="",this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.operatorToDelete=null,this.deleteError=""}confirmDelete(){this.operatorToDelete&&(this.deleteLoading=!0,this.deleteError="",this.apiService.deleteOperator(this.operatorToDelete.operatorId).subscribe({next:()=>{this.deleteLoading=!1,this.closeDeleteModal(),this.loadOperators()},error:e=>{this.deleteLoading=!1,this.deleteError=e.error?.message||"Failed to delete operator."}}))}static{this.\u0275fac=function(o){return new(o||r)(x(y),x(M))}}static{this.\u0275cmp=S({type:r,selectors:[["app-operator-list"]],decls:26,vars:5,consts:[["loadingTpl",""],["emptyTpl",""],[1,"operator-list-page"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"card"],[1,"filters"],[1,"filter-group"],["for","status-filter"],["id","status-filter",3,"ngModelChange","change","ngModel"],["value","all"],["value","ACTIVE"],["value","INACTIVE"],[1,"filter-group","search-group"],["for","search"],["type","text","id","search","placeholder","Search by code, name, department...",3,"ngModelChange","input","ngModel"],["class","table-container",4,"ngIf","ngIfElse"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"table-container"],["class","data-table",4,"ngIf","ngIfElse"],["class","pagination-controls",4,"ngIf"],[1,"data-table"],[4,"ngFor","ngForOf"],[1,"status-badge",3,"ngClass"],[1,"actions"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"empty-state"],[1,"pagination-controls"],[1,"page-info"],[1,"page-buttons"],[1,"btn","btn-sm",3,"click","disabled"],[1,"page-number"],[1,"page-size"],["for","page-size"],["id","page-size",3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"loading"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],[1,"fas","fa-xmark"],[1,"modal-body"],[1,"warning"],["class","error",4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-danger",3,"click","disabled"],[1,"error"]],template:function(o,l){if(o&1){let f=C();i(0,"div",2)(1,"div",3)(2,"h1"),n(3,"Operators"),t(),i(4,"button",4),m("click",function(){return d(f),c(l.createOperator())}),n(5," + New Operator "),t()(),i(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),n(10,"Status:"),t(),i(11,"select",9),V("ngModelChange",function(b){return d(f),k(l.filterStatus,b)||(l.filterStatus=b),c(b)}),m("change",function(){return d(f),c(l.onFilterStatusChange(l.filterStatus))}),i(12,"option",10),n(13,"All Statuses"),t(),i(14,"option",11),n(15,"Active"),t(),i(16,"option",12),n(17,"Inactive"),t()()(),i(18,"div",13)(19,"label",14),n(20,"Search:"),t(),i(21,"input",15),V("ngModelChange",function(b){return d(f),k(l.searchTerm,b)||(l.searchTerm=b),c(b)}),m("input",function(){return d(f),c(l.onSearchChange(l.searchTerm))}),t()()()(),_(22,be,5,3,"div",16)(23,Oe,2,0,"ng-template",null,0,U)(25,Ee,21,6,"div",17),t()}if(o&2){let f=W(24);a(11),T("ngModel",l.filterStatus),a(10),T("ngModel",l.searchTerm),a(),s("ngIf",!l.loading)("ngIfElse",f),a(3),s("ngIf",l.showDeleteModal)}},dependencies:[D,K,E,A,j,N,z,F,ee],styles:[".operator-list-page[_ngcontent-%COMP%]{padding:20px}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;overflow:hidden}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.actions[_ngcontent-%COMP%]{display:flex;gap:8px}.pagination-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-top:1px solid #eee}.page-info[_ngcontent-%COMP%]{color:#666;font-size:14px}.page-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.page-number[_ngcontent-%COMP%]{font-size:14px;color:#333}.page-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.page-size[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;color:#666}.page-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid #ddd;border-radius:4px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}"]})}}return r})();function Me(r,u){r&1&&(i(0,"div",4),n(1,"Loading operator..."),t())}function ye(r,u){if(r&1&&(i(0,"div",24),n(1),t()),r&2){let e=p(2);a(),g(e.error)}}function Ie(r,u){if(r&1&&(i(0,"span",25),n(1),t()),r&2){let e=p(2);a(),v(" ",e.getError("operatorCode")," ")}}function Pe(r,u){if(r&1&&(i(0,"span",25),n(1),t()),r&2){let e=p(2);a(),v(" ",e.getError("name")," ")}}function we(r,u){r&1&&(i(0,"div",8)(1,"h2"),n(2,"Status"),t(),i(3,"div",10)(4,"label",26),n(5,"Status"),t(),i(6,"select",27)(7,"option",28),n(8,"Active"),t(),i(9,"option",29),n(10,"Inactive"),t()()()())}function Te(r,u){if(r&1){let e=C();i(0,"div",5)(1,"form",6),m("ngSubmit",function(){d(e);let l=p();return c(l.onSubmit())}),_(2,ye,2,1,"div",7),i(3,"div",8)(4,"h2"),n(5,"Operator Information"),t(),i(6,"div",9)(7,"div",10)(8,"label",11),n(9,"Operator Code *"),t(),h(10,"input",12),_(11,Ie,2,1,"span",13),t(),i(12,"div",10)(13,"label",14),n(14,"Name *"),t(),h(15,"input",15),_(16,Pe,2,1,"span",13),t()(),i(17,"div",9)(18,"div",10)(19,"label",16),n(20,"Department"),t(),h(21,"input",17),t(),i(22,"div",10)(23,"label",18),n(24,"Shift"),t(),h(25,"input",19),t()()(),_(26,we,11,0,"div",20),i(27,"div",21)(28,"button",22),m("click",function(){d(e);let l=p();return c(l.cancel())}),n(29," Cancel "),t(),i(30,"button",23),n(31),t()()()()}if(r&2){let e=p();a(),s("formGroup",e.form),a(),s("ngIf",e.error),a(8),R("error",e.hasError("operatorCode")),a(),s("ngIf",e.hasError("operatorCode")),a(4),R("error",e.hasError("name")),a(),s("ngIf",e.hasError("name")),a(10),s("ngIf",e.isEditMode),a(2),s("disabled",e.saving),a(2),s("disabled",e.saving||e.form.invalid),a(),v(" ",e.saving?"Saving...":e.isEditMode?"Update Operator":"Create Operator"," ")}}var Z=(()=>{class r{constructor(e,o,l,f){this.fb=e,this.apiService=o,this.route=l,this.router=f,this.isEditMode=!1,this.operatorId=null,this.loading=!1,this.saving=!1,this.error=""}ngOnInit(){this.initForm();let e=this.route.snapshot.paramMap.get("id");e&&(this.isEditMode=!0,this.operatorId=+e,this.form.get("operatorCode")?.disable(),this.loadOperator())}initForm(){this.form=this.fb.group({operatorCode:["",[O.required,O.maxLength(50)]],name:["",[O.required,O.maxLength(200)]],department:["",O.maxLength(100)],shift:["",O.maxLength(50)],status:["ACTIVE"]})}loadOperator(){this.operatorId&&(this.loading=!0,this.apiService.getOperatorById(this.operatorId).subscribe({next:e=>{this.form.patchValue({operatorCode:e.operatorCode,name:e.name,department:e.department||"",shift:e.shift||"",status:e.status}),this.loading=!1},error:e=>{this.error=e.error?.message||"Failed to load operator.",this.loading=!1}}))}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.saving=!0,this.error="";let e=this.form.getRawValue();this.isEditMode&&this.operatorId?this.apiService.updateOperator(this.operatorId,e).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/manage/operators"])},error:o=>{this.saving=!1,this.error=o.error?.message||"Failed to update operator."}}):this.apiService.createOperator(e).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/manage/operators"])},error:o=>{this.saving=!1,this.error=o.error?.message||"Failed to create operator."}})}cancel(){this.router.navigate(["/manage/operators"])}hasError(e){let o=this.form.get(e);return!!(o&&o.invalid&&o.touched)}getError(e){let o=this.form.get(e);return!o||!o.errors?"":o.errors.required?"This field is required":o.errors.maxlength?`Maximum ${o.errors.maxlength.requiredLength} characters`:"Invalid value"}static{this.\u0275fac=function(o){return new(o||r)(x(re),x(y),x(L),x(M))}}static{this.\u0275cmp=S({type:r,selectors:[["app-operator-form"]],decls:6,vars:3,consts:[[1,"operator-form-page"],[1,"page-header"],["class","loading",4,"ngIf"],["class","form-container",4,"ngIf"],[1,"loading"],[1,"form-container"],[3,"ngSubmit","formGroup"],["class","error-banner",4,"ngIf"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","operatorCode"],["type","text","id","operatorCode","formControlName","operatorCode","placeholder","e.g., OP-001"],["class","error-text",4,"ngIf"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter operator name"],["for","department"],["type","text","id","department","formControlName","department","placeholder","e.g., Production, Quality"],["for","shift"],["type","text","id","shift","formControlName","shift","placeholder","e.g., Morning, Night, A-Shift"],["class","form-section",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error-banner"],[1,"error-text"],["for","status"],["id","status","formControlName","status"],["value","ACTIVE"],["value","INACTIVE"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),n(3),t()(),_(4,Me,2,0,"div",2)(5,Te,32,12,"div",3),t()),o&2&&(a(3),g(l.isEditMode?"Edit Operator":"New Operator"),a(),s("ngIf",l.loading),a(),s("ngIf",!l.loading))},dependencies:[E,te,A,j,N,z,F,$,ie,ne],styles:[".operator-form-page[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333}.loading[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#666}.form-container[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 1px 3px #0000001a;padding:24px}.error-banner[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:12px 16px;border-radius:4px;margin-bottom:20px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px}.form-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 16px;padding-bottom:8px;border-bottom:1px solid #eee}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#555;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;transition:border-color .2s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1976d2}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select.error[_ngcontent-%COMP%]{border-color:#d32f2f}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;cursor:not-allowed}.error-text[_ngcontent-%COMP%]{font-size:12px;color:#d32f2f}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding-top:20px;border-top:1px solid #eee}@media (max-width: 600px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return r})();function ke(r,u){if(r&1){let e=C();i(0,"div",9)(1,"button",10),m("click",function(){d(e);let l=p();return c(l.editOperator())}),h(2,"i",11),n(3," Edit "),t(),i(4,"button",12),m("click",function(){d(e);let l=p();return c(l.toggleStatus())}),h(5,"i",13),n(6),t()()}if(r&2){let e=p();a(4),s("ngClass",e.operator.status==="ACTIVE"?"btn-danger":"btn-success"),a(),s("ngClass",e.operator.status==="ACTIVE"?"fa-user-slash":"fa-user-check"),a(),v(" ",e.operator.status==="ACTIVE"?"Deactivate":"Activate"," ")}}function Ve(r,u){r&1&&(i(0,"div",14),h(1,"app-loading-spinner",15),t())}function De(r,u){if(r&1&&(i(0,"div",16),n(1),t()),r&2){let e=p();a(),v(" ",e.error," ")}}function Le(r,u){if(r&1&&(i(0,"div",17)(1,"div",18)(2,"div",19)(3,"h2"),n(4),t(),i(5,"span",20),n(6),t()(),i(7,"div",21)(8,"div",22)(9,"h3"),n(10,"Basic Information"),t(),i(11,"div",23)(12,"span",24),n(13,"Operator ID"),t(),i(14,"span",25),n(15),t()(),i(16,"div",23)(17,"span",24),n(18,"Operator Code"),t(),i(19,"span",26),n(20),t()(),i(21,"div",23)(22,"span",24),n(23,"Department"),t(),i(24,"span",25),n(25),t()(),i(26,"div",23)(27,"span",24),n(28,"Shift"),t(),i(29,"span",25),n(30),t()()(),i(31,"div",22)(32,"h3"),n(33,"Timestamps"),t(),i(34,"div",23)(35,"span",24),n(36,"Created On"),t(),i(37,"span",25),n(38),q(39,"date"),t()(),i(40,"div",23)(41,"span",24),n(42,"Created By"),t(),i(43,"span",25),n(44),t()(),i(45,"div",23)(46,"span",24),n(47,"Updated On"),t(),i(48,"span",25),n(49),q(50,"date"),t()(),i(51,"div",23)(52,"span",24),n(53,"Updated By"),t(),i(54,"span",25),n(55),t()()()()()()),r&2){let e=p();a(4),g(e.operator.name),a(),s("ngClass",e.getStatusClass(e.operator.status)),a(),v(" ",e.operator.status," "),a(9),g(e.operator.operatorId),a(5),g(e.operator.operatorCode),a(5),g(e.operator.department||"-"),a(5),g(e.operator.shift||"-"),a(8),g(G(39,11,e.operator.createdOn,"medium")),a(6),g(e.operator.createdBy||"-"),a(5),g(G(50,14,e.operator.updatedOn,"medium")),a(6),g(e.operator.updatedBy||"-")}}var ge=(()=>{class r{constructor(e,o,l){this.route=e,this.router=o,this.apiService=l,this.operator=null,this.loading=!0,this.error=null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadOperator(+e):(this.error="No operator ID provided",this.loading=!1)}loadOperator(e){this.loading=!0,this.error=null,this.apiService.getOperatorById(e).subscribe({next:o=>{this.operator=o,this.loading=!1},error:o=>{console.error("Error loading operator:",o),this.error="Failed to load operator",this.loading=!1}})}editOperator(){this.operator&&this.router.navigate(["/manage/operators",this.operator.operatorId,"edit"])}goBack(){this.router.navigate(["/manage/operators"])}getStatusClass(e){switch(e?.toUpperCase()){case"ACTIVE":return"status-active";case"INACTIVE":return"status-inactive";default:return""}}toggleStatus(){this.operator&&(this.operator.status==="ACTIVE"?confirm(`Are you sure you want to deactivate operator "${this.operator.name}"?`)&&this.apiService.deleteOperator(this.operator.operatorId).subscribe({next:()=>{this.loadOperator(this.operator.operatorId)},error:e=>{console.error("Error deactivating operator:",e),this.error="Failed to deactivate operator"}}):this.apiService.activateOperator(this.operator.operatorId).subscribe({next:()=>{this.loadOperator(this.operator.operatorId)},error:e=>{console.error("Error activating operator:",e),this.error="Failed to activate operator"}}))}static{this.\u0275fac=function(o){return new(o||r)(x(L),x(M),x(y))}}static{this.\u0275cmp=S({type:r,selectors:[["app-operator-detail"]],decls:12,vars:4,consts:[[1,"detail-container"],[1,"page-header"],[1,"header-left"],[1,"btn","btn-back",3,"click"],[1,"fas","fa-arrow-left"],["class","header-actions",4,"ngIf"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","detail-content",4,"ngIf"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn",3,"click","ngClass"],[1,"fas",3,"ngClass"],[1,"loading"],["message","Loading operator..."],[1,"error-message"],[1,"detail-content"],[1,"detail-card"],[1,"card-header"],[1,"status-badge",3,"ngClass"],[1,"detail-grid"],[1,"detail-section"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"value","code"]],template:function(o,l){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return l.goBack()}),h(4,"i",4),n(5," Back "),t(),i(6,"h1"),n(7,"Operator Details"),t()(),_(8,ke,7,3,"div",5),t(),_(9,Ve,2,0,"div",6)(10,De,2,1,"div",7)(11,Le,56,17,"div",8),t()),o&2&&(a(8),s("ngIf",l.operator),a(),s("ngIf",l.loading),a(),s("ngIf",l.error),a(),s("ngIf",!l.loading&&l.operator))},dependencies:[D,E,le,X],styles:[".detail-container[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1e293b}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px}.error-message[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:12px 16px;border-radius:8px;margin-bottom:16px}.detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.detail-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:24px;padding:24px}.detail-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{color:#64748b;font-size:14px}.value[_ngcontent-%COMP%]{color:#1e293b;font-weight:500;font-size:14px}.value.code[_ngcontent-%COMP%]{font-family:monospace;background:#f1f5f9;padding:2px 8px;border-radius:4px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.status-active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-inactive[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-back[_ngcontent-%COMP%]{background:transparent;color:#64748b;padding:8px 12px}.btn-back[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.btn-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.btn-danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.btn-success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}.btn-success[_ngcontent-%COMP%]:hover{background:#bbf7d0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return r})();var Ne=[{path:"",component:me},{path:"new",component:Z},{path:":id",component:ge},{path:":id/edit",component:Z}],fe=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=w({type:r})}static{this.\u0275inj=P({imports:[Q.forChild(Ne),Q]})}}return r})();var nt=(()=>{class r{static{this.\u0275fac=function(o){return new(o||r)}}static{this.\u0275mod=w({type:r})}static{this.\u0275inj=P({imports:[Y,oe,ae,fe,se]})}}return r})();export{nt as OperatorsModule};
