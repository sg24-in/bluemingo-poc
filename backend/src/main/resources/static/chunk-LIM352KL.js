import{d as O,f as ne,g as ie}from"./chunk-DC6H7RTP.js";import{d as S}from"./chunk-CX5NRPTH.js";import"./chunk-Q66F4YPD.js";import{$ as H,Ba as X,D as b,E as m,Ea as Y,F as c,Fa as R,Ga as B,Ha as q,K as a,L as x,La as Z,M as C,Ma as ee,Na as te,Q as U,R as k,S as T,V as P,X as M,_ as N,aa as y,da as A,fa as J,g as V,i as w,j as F,l as u,m as g,ma as L,o as s,oa as I,p as h,r as _,ra as G,t as d,ua as z,va as E,wa as D,x as n,xa as K,y as t,ya as j,z as f,za as Q}from"./chunk-KBMCX72K.js";function me(i,p){if(i&1&&(n(0,"div",17),a(1),t()),i&2){let e=c();s(),C(" ",e.error," ")}}function ue(i,p){i&1&&(n(0,"div",18),f(1,"app-loading-spinner",19),t())}function ge(i,p){i&1&&(n(0,"div",20)(1,"p"),a(2,"No users found."),t()())}function fe(i,p){if(i&1){let e=b();n(0,"button",34),m("click",function(){u(e);let r=c().$implicit,l=c(2);return g(l.deleteUser(r))}),f(1,"i",35),t()}}function _e(i,p){if(i&1){let e=b();n(0,"button",36),m("click",function(){u(e);let r=c().$implicit,l=c(2);return g(l.activateUser(r))}),f(1,"i",37),t()}}function xe(i,p){if(i&1){let e=b();n(0,"tr")(1,"td"),a(2),t(),n(3,"td")(4,"a",25),m("click",function(){let r=u(e).$implicit,l=c(2);return g(l.viewUser(r.userId))}),a(5),t()(),n(6,"td"),a(7),t(),n(8,"td"),a(9),t(),n(10,"td")(11,"span",26),a(12),t()(),n(13,"td"),a(14),P(15,"date"),t(),n(16,"td",27)(17,"button",28),m("click",function(){let r=u(e).$implicit,l=c(2);return g(l.viewUser(r.userId))}),f(18,"i",29),t(),n(19,"button",30),m("click",function(){let r=u(e).$implicit,l=c(2);return g(l.editUser(r.userId))}),f(20,"i",31),t(),_(21,fe,2,0,"button",32)(22,_e,2,0,"button",33),t()()}if(i&2){let e=p.$implicit,o=c(2);s(2),x(e.userId),s(3),x(e.name),s(2),x(e.email),s(2),x(e.employeeId||"-"),s(2),d("ngClass",o.getStatusClass(e.status)),s(),C(" ",e.status," "),s(2),x(M(15,9,e.createdOn,"short")),s(7),d("ngIf",e.status==="ACTIVE"),s(),d("ngIf",e.status==="INACTIVE")}}function he(i,p){if(i&1){let e=b();n(0,"app-pagination",38),m("pageChange",function(r){u(e);let l=c(2);return g(l.onPageChange(r))})("sizeChange",function(r){u(e);let l=c(2);return g(l.onSizeChange(r))}),t()}if(i&2){let e=c(2);d("page",e.page)("size",e.size)("totalElements",e.totalElements)("totalPages",e.totalPages)("hasNext",e.hasNext)("hasPrevious",e.hasPrevious)}}function be(i,p){if(i&1&&(n(0,"div",21)(1,"table",22)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),t(),n(6,"th"),a(7,"Name"),t(),n(8,"th"),a(9,"Email"),t(),n(10,"th"),a(11,"Employee ID"),t(),n(12,"th"),a(13,"Status"),t(),n(14,"th"),a(15,"Created"),t(),n(16,"th"),a(17,"Actions"),t()()(),n(18,"tbody"),_(19,xe,23,12,"tr",23),t()(),_(20,he,1,6,"app-pagination",24),t()),i&2){let e=c();s(19),d("ngForOf",e.users),s(),d("ngIf",e.users.length>0)}}var le=(()=>{class i{constructor(e,o){this.apiService=e,this.router=o,this.users=[],this.loading=!0,this.error=null,this.page=0,this.size=20,this.totalElements=0,this.totalPages=0,this.hasNext=!1,this.hasPrevious=!1,this.searchTerm="",this.statusFilter=""}ngOnInit(){this.loadUsers()}loadUsers(){this.loading=!0,this.error=null;let e={page:this.page,size:this.size,sortBy:"userId",sortDirection:"ASC"};this.searchTerm&&(e.search=this.searchTerm),this.statusFilter&&(e.status=this.statusFilter),this.apiService.getUsersPaged(e).subscribe({next:o=>{this.users=o.content,this.totalElements=o.totalElements,this.totalPages=o.totalPages,this.hasNext=!o.last,this.hasPrevious=!o.first,this.loading=!1},error:o=>{console.error("Error loading users:",o),this.error="Failed to load users",this.loading=!1}})}onSearch(){this.page=0,this.loadUsers()}onFilterChange(){this.page=0,this.loadUsers()}onPageChange(e){this.page=e,this.loadUsers()}onSizeChange(e){this.size=e,this.page=0,this.loadUsers()}viewUser(e){this.router.navigate(["/manage/users",e])}editUser(e){this.router.navigate(["/manage/users",e,"edit"])}createUser(){this.router.navigate(["/manage/users","new"])}deleteUser(e){confirm(`Are you sure you want to deactivate user "${e.name}"?`)&&this.apiService.deleteUser(e.userId).subscribe({next:()=>{this.loadUsers()},error:o=>{console.error("Error deleting user:",o),this.error="Failed to deactivate user"}})}activateUser(e){this.apiService.activateUser(e.userId).subscribe({next:()=>{this.loadUsers()},error:o=>{console.error("Error activating user:",o),this.error="Failed to activate user"}})}getStatusClass(e){switch(e?.toUpperCase()){case"ACTIVE":return"status-active";case"INACTIVE":return"status-inactive";default:return""}}static{this.\u0275fac=function(o){return new(o||i)(h(S),h(I))}}static{this.\u0275cmp=w({type:i,selectors:[["app-user-list"]],decls:26,vars:6,consts:[[1,"user-list-container"],[1,"page-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus"],[1,"filters"],[1,"search-box"],["type","text","placeholder","Search by name or email...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"btn","btn-secondary",3,"click"],[1,"filter-group"],[1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],["value","ACTIVE"],["value","INACTIVE"],["class","error-message",4,"ngIf"],["class","loading",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","table-container",4,"ngIf"],[1,"error-message"],[1,"loading"],["message","Loading users..."],[1,"empty-state"],[1,"table-container"],[1,"data-table"],[4,"ngFor","ngForOf"],[3,"page","size","totalElements","totalPages","hasNext","hasPrevious","pageChange","sizeChange",4,"ngIf"],[1,"link",3,"click"],[1,"status-badge",3,"ngClass"],[1,"actions"],["title","View",1,"btn-icon",3,"click"],[1,"fas","fa-eye"],["title","Edit",1,"btn-icon",3,"click"],[1,"fas","fa-edit"],["class","btn-icon btn-danger","title","Deactivate",3,"click",4,"ngIf"],["class","btn-icon btn-success","title","Activate",3,"click",4,"ngIf"],["title","Deactivate",1,"btn-icon","btn-danger",3,"click"],[1,"fas","fa-user-slash"],["title","Activate",1,"btn-icon","btn-success",3,"click"],[1,"fas","fa-user-check"],[3,"pageChange","sizeChange","page","size","totalElements","totalPages","hasNext","hasPrevious"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3,"User Management"),t(),n(4,"button",2),m("click",function(){return r.createUser()}),f(5,"i",3),a(6," Add User "),t()(),n(7,"div",4)(8,"div",5)(9,"input",6),T("ngModelChange",function(v){return k(r.searchTerm,v)||(r.searchTerm=v),v}),m("keyup.enter",function(){return r.onSearch()}),t(),n(10,"button",7),m("click",function(){return r.onSearch()}),a(11,"Search"),t()(),n(12,"div",8)(13,"label"),a(14,"Status:"),t(),n(15,"select",9),T("ngModelChange",function(v){return k(r.statusFilter,v)||(r.statusFilter=v),v}),m("change",function(){return r.onFilterChange()}),n(16,"option",10),a(17,"All"),t(),n(18,"option",11),a(19,"Active"),t(),n(20,"option",12),a(21,"Inactive"),t()()()(),_(22,me,2,1,"div",13)(23,ue,2,0,"div",14)(24,ge,3,0,"div",15)(25,be,21,2,"div",16),t()),o&2&&(s(9),U("ngModel",r.searchTerm),s(6),U("ngModel",r.statusFilter),s(7),d("ngIf",r.error),s(),d("ngIf",r.loading),s(),d("ngIf",!r.loading&&r.users.length===0),s(),d("ngIf",!r.loading&&r.users.length>0))},dependencies:[N,H,y,B,q,z,R,D,j,O,ne,A],styles:[".user-list-container[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1e293b}.filters[_ngcontent-%COMP%]{display:flex;gap:24px;margin-bottom:24px;flex-wrap:wrap;align-items:center}.search-box[_ngcontent-%COMP%]{display:flex;gap:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:300px}.filter-group[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#475569}.filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{min-width:120px}.form-control[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.error-message[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:12px 16px;border-radius:8px;margin-bottom:16px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;background:#f8fafc;border-radius:8px;color:#64748b}.table-container[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;overflow:hidden}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;text-align:left;border-bottom:1px solid #e2e8f0}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc;font-weight:600;color:#475569;font-size:13px;text-transform:uppercase;letter-spacing:.05em}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f8fafc}.data-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.link[_ngcontent-%COMP%]{color:#3b82f6;cursor:pointer;font-weight:500}.link[_ngcontent-%COMP%]:hover{text-decoration:underline}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.status-active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-inactive[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.actions[_ngcontent-%COMP%]{display:flex;gap:4px}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#2563eb}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #e2e8f0;border-radius:6px;background:#fff;color:#64748b;cursor:pointer;transition:all .2s}.btn-icon[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.btn-icon.btn-danger[_ngcontent-%COMP%]{color:#dc2626;border-color:#fecaca}.btn-icon.btn-danger[_ngcontent-%COMP%]:hover{background:#fef2f2}.btn-icon.btn-success[_ngcontent-%COMP%]{color:#16a34a;border-color:#bbf7d0}.btn-icon.btn-success[_ngcontent-%COMP%]:hover{background:#dcfce7}"]})}}return i})();function Ce(i,p){i&1&&(n(0,"div",6),f(1,"app-loading-spinner",7),t())}function ve(i,p){if(i&1&&(n(0,"div",8),a(1),t()),i&2){let e=c();s(),C(" ",e.error," ")}}function we(i,p){i&1&&(n(0,"div",25),a(1," Email is required "),t())}function Pe(i,p){i&1&&(n(0,"div",25),a(1," Please enter a valid email "),t())}function Me(i,p){i&1&&(n(0,"div",25),a(1," Password is required "),t())}function ye(i,p){i&1&&(n(0,"div",25),a(1," Password must be at least 6 characters "),t())}function Ie(i,p){if(i&1&&(n(0,"div",12)(1,"label",26),a(2,"Password *"),t(),f(3,"input",27),_(4,Me,2,0,"div",15)(5,ye,2,0,"div",15),t()),i&2){let e,o,r=c(2);s(4),d("ngIf",((e=r.form.get("password"))==null?null:e.touched)&&((e=r.form.get("password"))==null||e.errors==null?null:e.errors.required)),s(),d("ngIf",((o=r.form.get("password"))==null?null:o.touched)&&((o=r.form.get("password"))==null||o.errors==null?null:o.errors.minlength))}}function Ee(i,p){i&1&&(n(0,"div",25),a(1," Name is required "),t())}function Se(i,p){if(i&1){let e=b();n(0,"div",11)(1,"div",12)(2,"label",28),a(3,"Status"),t(),n(4,"select",29)(5,"option",30),a(6,"Active"),t(),n(7,"option",31),a(8,"Inactive"),t()()(),n(9,"div",12)(10,"label"),a(11,"Password"),t(),n(12,"button",23),m("click",function(){u(e);let r=c(2);return g(r.openResetPasswordModal())}),f(13,"i",32),a(14," Reset Password "),t()()()}}function Oe(i,p){if(i&1){let e=b();n(0,"form",9),m("ngSubmit",function(){u(e);let r=c();return g(r.onSubmit())}),n(1,"div",10)(2,"h3"),a(3,"Account Information"),t(),n(4,"div",11)(5,"div",12)(6,"label",13),a(7,"Email *"),t(),f(8,"input",14),_(9,we,2,0,"div",15)(10,Pe,2,0,"div",15),t(),_(11,Ie,6,2,"div",16),t()(),n(12,"div",10)(13,"h3"),a(14,"Profile Information"),t(),n(15,"div",11)(16,"div",12)(17,"label",17),a(18,"Name *"),t(),f(19,"input",18),_(20,Ee,2,0,"div",15),t(),n(21,"div",12)(22,"label",19),a(23,"Employee ID"),t(),f(24,"input",20),t()(),_(25,Se,15,0,"div",21),t(),n(26,"div",22)(27,"button",23),m("click",function(){u(e);let r=c();return g(r.cancel())}),a(28,"Cancel"),t(),n(29,"button",24),a(30),t()()()}if(i&2){let e,o,r,l=c();d("formGroup",l.form),s(8),d("readonly",l.isEditMode),s(),d("ngIf",((e=l.form.get("email"))==null?null:e.touched)&&((e=l.form.get("email"))==null||e.errors==null?null:e.errors.required)),s(),d("ngIf",((o=l.form.get("email"))==null?null:o.touched)&&((o=l.form.get("email"))==null||o.errors==null?null:o.errors.email)),s(),d("ngIf",!l.isEditMode),s(9),d("ngIf",((r=l.form.get("name"))==null?null:r.touched)&&((r=l.form.get("name"))==null||r.errors==null?null:r.errors.required)),s(5),d("ngIf",l.isEditMode),s(4),d("disabled",l.saving||l.form.invalid),s(),C(" ",l.saving?"Saving...":l.isEditMode?"Update User":"Create User"," ")}}function Ue(i,p){if(i&1){let e=b();n(0,"div",33),m("click",function(){u(e);let r=c();return g(r.closeResetPasswordModal())}),n(1,"div",34),m("click",function(r){return u(e),g(r.stopPropagation())}),n(2,"h3"),a(3,"Reset Password"),t(),n(4,"p"),a(5,"Enter a new password for this user."),t(),n(6,"div",12)(7,"label",35),a(8,"New Password"),t(),n(9,"input",36),T("ngModelChange",function(r){u(e);let l=c();return k(l.newPassword,r)||(l.newPassword=r),g(r)}),t()(),n(10,"div",37)(11,"button",38),m("click",function(){u(e);let r=c();return g(r.closeResetPasswordModal())}),a(12," Cancel "),t(),n(13,"button",39),m("click",function(){u(e);let r=c();return g(r.resetPassword())}),a(14),t()()()()}if(i&2){let e=c();s(9),U("ngModel",e.newPassword),s(2),d("disabled",e.resettingPassword),s(2),d("disabled",e.resettingPassword||e.newPassword.length<6),s(),C(" ",e.resettingPassword?"Resetting...":"Reset Password"," ")}}var $=(()=>{class i{constructor(e,o,r,l){this.fb=e,this.route=o,this.router=r,this.apiService=l,this.userId=null,this.isEditMode=!1,this.loading=!1,this.saving=!1,this.error=null,this.showResetPasswordModal=!1,this.newPassword="",this.resettingPassword=!1,this.form=this.fb.group({email:["",[E.required,E.email]],name:["",[E.required]],password:["",[E.required,E.minLength(6)]],employeeId:[""],status:["ACTIVE"]})}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&e!=="new"&&(this.userId=+e,this.isEditMode=!0,this.form.get("password")?.clearValidators(),this.form.get("password")?.updateValueAndValidity(),this.loadUser())}loadUser(){this.userId&&(this.loading=!0,this.apiService.getUserById(this.userId).subscribe({next:e=>{this.form.patchValue({email:e.email,name:e.name,employeeId:e.employeeId||"",status:e.status}),this.loading=!1},error:e=>{console.error("Error loading user:",e),this.error="Failed to load user",this.loading=!1}}))}onSubmit(){if(this.form.invalid){this.form.markAllAsTouched();return}this.saving=!0,this.error=null,this.isEditMode&&this.userId?this.updateUser():this.createUser()}createUser(){let e={email:this.form.value.email,name:this.form.value.name,password:this.form.value.password,employeeId:this.form.value.employeeId||void 0};this.apiService.createUser(e).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/manage/users"])},error:o=>{this.saving=!1,this.error=o.error?.message||"Failed to create user",console.error("Error creating user:",o)}})}updateUser(){if(!this.userId)return;let e={name:this.form.value.name,employeeId:this.form.value.employeeId||void 0,status:this.form.value.status};this.apiService.updateUser(this.userId,e).subscribe({next:()=>{this.saving=!1,this.router.navigate(["/manage/users"])},error:o=>{this.saving=!1,this.error=o.error?.message||"Failed to update user",console.error("Error updating user:",o)}})}cancel(){this.router.navigate(["/manage/users"])}openResetPasswordModal(){this.showResetPasswordModal=!0,this.newPassword=""}closeResetPasswordModal(){this.showResetPasswordModal=!1,this.newPassword=""}resetPassword(){!this.userId||!this.newPassword||this.newPassword.length<6||(this.resettingPassword=!0,this.apiService.resetPassword(this.userId,{newPassword:this.newPassword}).subscribe({next:()=>{this.resettingPassword=!1,this.showResetPasswordModal=!1,this.newPassword="",alert("Password reset successfully")},error:e=>{this.resettingPassword=!1,console.error("Error resetting password:",e),alert("Failed to reset password")}}))}get title(){return this.isEditMode?"Edit User":"Create User"}static{this.\u0275fac=function(o){return new(o||i)(h(Z),h(L),h(I),h(S))}}static{this.\u0275cmp=w({type:i,selectors:[["app-user-form"]],decls:8,vars:5,consts:[[1,"user-form-container"],[1,"page-header"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","form-card",3,"formGroup","ngSubmit",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"loading"],["message","Loading user..."],[1,"error-message"],[1,"form-card",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"form-row"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","user@example.com",1,"form-control",3,"readonly"],["class","error",4,"ngIf"],["class","form-group",4,"ngIf"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Full name",1,"form-control"],["for","employeeId"],["type","text","id","employeeId","formControlName","employeeId","placeholder","e.g., EMP001",1,"form-control"],["class","form-row",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"error"],["for","password"],["type","password","id","password","formControlName","password","placeholder","Minimum 6 characters",1,"form-control"],["for","status"],["id","status","formControlName","status",1,"form-control"],["value","ACTIVE"],["value","INACTIVE"],[1,"fas","fa-key"],[1,"modal-overlay",3,"click"],[1,"modal",3,"click"],["for","newPassword"],["type","password","id","newPassword","placeholder","Minimum 6 characters",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),a(3),t()(),_(4,Ce,2,0,"div",2)(5,ve,2,1,"div",3)(6,Oe,31,9,"form",4),t(),_(7,Ue,15,4,"div",5)),o&2&&(s(3),x(r.title),s(),d("ngIf",r.loading),s(),d("ngIf",r.error),s(),d("ngIf",!r.loading),s(),d("ngIf",r.showResetPasswordModal))},dependencies:[y,Q,B,q,z,R,D,K,j,X,Y,O],styles:[".user-form-container[_ngcontent-%COMP%]{padding:24px;max-width:800px}.page-header[_ngcontent-%COMP%]{margin-bottom:24px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1e293b}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px}.error-message[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:12px 16px;border-radius:8px;margin-bottom:16px}.form-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:24px}.form-section[_ngcontent-%COMP%]{margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600;color:#1e293b;padding-bottom:8px;border-bottom:1px solid #e2e8f0}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:#475569;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:6px;font-size:14px;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.form-control[readonly][_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b;cursor:not-allowed}.form-control.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc2626}.error[_ngcontent-%COMP%]{color:#dc2626;font-size:12px;margin-top:4px}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding-top:16px;border-top:1px solid #e2e8f0}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#2563eb}.btn-primary[_ngcontent-%COMP%]:disabled{background:#93c5fd;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background:#e2e8f0}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:24px;width:100%;max-width:400px;box-shadow:0 20px 25px -5px #0000001a}.modal[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;font-weight:600;color:#1e293b}.modal[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 16px;color:#64748b;font-size:14px}.modal[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px}@media (max-width: 768px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return i})();function ke(i,p){if(i&1){let e=b();n(0,"div",9)(1,"button",10),m("click",function(){u(e);let r=c();return g(r.editUser())}),f(2,"i",11),a(3," Edit "),t(),n(4,"button",12),m("click",function(){u(e);let r=c();return g(r.toggleStatus())}),f(5,"i",13),a(6),t()()}if(i&2){let e=c();s(4),d("ngClass",e.user.status==="ACTIVE"?"btn-danger":"btn-success"),s(),d("ngClass",e.user.status==="ACTIVE"?"fa-user-slash":"fa-user-check"),s(),C(" ",e.user.status==="ACTIVE"?"Deactivate":"Activate"," ")}}function Te(i,p){i&1&&(n(0,"div",14),f(1,"app-loading-spinner",15),t())}function Ve(i,p){if(i&1&&(n(0,"div",16),a(1),t()),i&2){let e=c();s(),C(" ",e.error," ")}}function Fe(i,p){if(i&1&&(n(0,"div",17)(1,"div",18)(2,"div",19)(3,"h2"),a(4),t(),n(5,"span",20),a(6),t()(),n(7,"div",21)(8,"div",22)(9,"h3"),a(10,"Account Information"),t(),n(11,"div",23)(12,"span",24),a(13,"User ID"),t(),n(14,"span",25),a(15),t()(),n(16,"div",23)(17,"span",24),a(18,"Email"),t(),n(19,"span",25),a(20),t()(),n(21,"div",23)(22,"span",24),a(23,"Employee ID"),t(),n(24,"span",25),a(25),t()()(),n(26,"div",22)(27,"h3"),a(28,"Timestamps"),t(),n(29,"div",23)(30,"span",24),a(31,"Created On"),t(),n(32,"span",25),a(33),P(34,"date"),t()(),n(35,"div",23)(36,"span",24),a(37,"Updated On"),t(),n(38,"span",25),a(39),P(40,"date"),t()(),n(41,"div",23)(42,"span",24),a(43,"Last Login"),t(),n(44,"span",25),a(45),P(46,"date"),t()()()()()()),i&2){let e=c();s(4),x(e.user.name),s(),d("ngClass",e.getStatusClass(e.user.status)),s(),C(" ",e.user.status," "),s(9),x(e.user.userId),s(5),x(e.user.email),s(5),x(e.user.employeeId||"-"),s(8),x(M(34,9,e.user.createdOn,"medium")),s(6),x(M(40,12,e.user.updatedOn,"medium")),s(6),x(e.user.lastLogin?M(46,15,e.user.lastLogin,"medium"):"Never")}}var de=(()=>{class i{constructor(e,o,r){this.route=e,this.router=o,this.apiService=r,this.user=null,this.loading=!0,this.error=null}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e?this.loadUser(+e):(this.error="No user ID provided",this.loading=!1)}loadUser(e){this.loading=!0,this.error=null,this.apiService.getUserById(e).subscribe({next:o=>{this.user=o,this.loading=!1},error:o=>{console.error("Error loading user:",o),this.error="Failed to load user",this.loading=!1}})}editUser(){this.user&&this.router.navigate(["/manage/users",this.user.userId,"edit"])}goBack(){this.router.navigate(["/manage/users"])}getStatusClass(e){switch(e?.toUpperCase()){case"ACTIVE":return"status-active";case"INACTIVE":return"status-inactive";default:return""}}toggleStatus(){this.user&&(this.user.status==="ACTIVE"?confirm(`Are you sure you want to deactivate user "${this.user.name}"?`)&&this.apiService.deactivateUser(this.user.userId).subscribe({next:()=>{this.loadUser(this.user.userId)},error:e=>{console.error("Error deactivating user:",e),this.error="Failed to deactivate user"}}):this.apiService.activateUser(this.user.userId).subscribe({next:()=>{this.loadUser(this.user.userId)},error:e=>{console.error("Error activating user:",e),this.error="Failed to activate user"}}))}static{this.\u0275fac=function(o){return new(o||i)(h(L),h(I),h(S))}}static{this.\u0275cmp=w({type:i,selectors:[["app-user-detail"]],decls:12,vars:4,consts:[[1,"user-detail-container"],[1,"page-header"],[1,"header-left"],[1,"btn","btn-back",3,"click"],[1,"fas","fa-arrow-left"],["class","header-actions",4,"ngIf"],["class","loading",4,"ngIf"],["class","error-message",4,"ngIf"],["class","detail-content",4,"ngIf"],[1,"header-actions"],[1,"btn","btn-secondary",3,"click"],[1,"fas","fa-edit"],[1,"btn",3,"click","ngClass"],[1,"fas",3,"ngClass"],[1,"loading"],["message","Loading user..."],[1,"error-message"],[1,"detail-content"],[1,"detail-card"],[1,"card-header"],[1,"status-badge",3,"ngClass"],[1,"detail-grid"],[1,"detail-section"],[1,"detail-row"],[1,"label"],[1,"value"]],template:function(o,r){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),m("click",function(){return r.goBack()}),f(4,"i",4),a(5," Back "),t(),n(6,"h1"),a(7,"User Details"),t()(),_(8,ke,7,3,"div",5),t(),_(9,Te,2,0,"div",6)(10,Ve,2,1,"div",7)(11,Fe,47,18,"div",8),t()),o&2&&(s(8),d("ngIf",r.user),s(),d("ngIf",r.loading),s(),d("ngIf",r.error),s(),d("ngIf",!r.loading&&r.user))},dependencies:[N,y,O,A],styles:[".user-detail-container[_ngcontent-%COMP%]{padding:24px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;color:#1e293b}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px}.error-message[_ngcontent-%COMP%]{background:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:12px 16px;border-radius:8px;margin-bottom:16px}.detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.detail-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;background:#f8fafc;border-bottom:1px solid #e2e8f0}.card-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:600;color:#1e293b}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:24px;padding:24px}.detail-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;font-weight:600;color:#64748b;text-transform:uppercase;letter-spacing:.05em}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f1f5f9}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{color:#64748b;font-size:14px}.value[_ngcontent-%COMP%]{color:#1e293b;font-weight:500;font-size:14px}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:12px;font-size:12px;font-weight:500;text-transform:uppercase}.status-active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-inactive[_ngcontent-%COMP%]{background:#f1f5f9;color:#64748b}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:background-color .2s}.btn-back[_ngcontent-%COMP%]{background:transparent;color:#64748b;padding:8px 12px}.btn-back[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]{background:#f1f5f9;color:#475569}.btn-secondary[_ngcontent-%COMP%]:hover{background:#e2e8f0}.btn-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.btn-danger[_ngcontent-%COMP%]:hover{background:#fee2e2}.btn-success[_ngcontent-%COMP%]{background:#dcfce7;color:#166534;border:1px solid #bbf7d0}.btn-success[_ngcontent-%COMP%]:hover{background:#bbf7d0}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.detail-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return i})();var Ne=[{path:"",component:le},{path:"new",component:$},{path:":id",component:de},{path:":id/edit",component:$}],ce=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=V({imports:[G.forChild(Ne),G]})}}return i})();var nt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=V({imports:[J,ee,te,ce,ie]})}}return i})();export{nt as UsersModule};
