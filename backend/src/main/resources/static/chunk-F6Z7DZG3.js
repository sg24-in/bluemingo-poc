import{a as y,b as F}from"./chunk-LSR6FOIP.js";import{d as j,e as H,g as G}from"./chunk-J6ZZYFA5.js";import{d as Q}from"./chunk-IGUV3I34.js";import"./chunk-ZJVCWRNR.js";import{$ as A,D as C,E as x,F as p,G as M,H as E,I as w,K as a,L as f,M as b,N as L,W as k,Y as I,aa as B,ba as R,ea as N,g as S,ga as V,i as T,j as O,l as u,m as v,o as r,p as P,pa as z,qa as q,r as h,sa as D,t as d,x as e,y as n,z as c}from"./chunk-JI6OXINY.js";var W=["inventoryChart"],K=["orderStatusChart"],J=["batchStatusChart"];function X(i,m){if(i&1&&(e(0,"span",9),a(1),k(2,"date"),n()),i&2){let t=p();r(),b("Last updated: ",I(2,1,t.lastUpdated,"medium"),"")}}function Z(i,m){i&1&&(e(0,"div",10),c(1,"app-loading-spinner",11),n())}function tt(i,m){i&1&&c(0,"div",76)}function et(i,m){if(i&1&&(e(0,"div",66),h(1,tt,1,0,"div",67),e(2,"div",68)(3,"div",69),c(4,"i",70),n(),e(5,"div",71)(6,"span",72),a(7),n(),e(8,"span",73),a(9),n()(),e(10,"div",74),c(11,"span",75),n()()()),i&2){let t=m.$implicit,o=m.index;r(),d("ngIf",o>0),r(),d("ngClass","stage-"+t.status),r(2),d("ngClass",t.icon),r(3),f(t.name),r(2),b("",t.activeCount," active"),r(2),d("ngClass","dot-"+t.status)}}function nt(i,m){if(i&1){let t=C();e(0,"div",83),x("click",function(){u(t);let s=p(3);return v(s.navigateToHolds())}),e(1,"div",84),c(2,"i",65),n(),e(3,"div",85)(4,"span",86),a(5),n(),e(6,"span",87),a(7,"Active Holds"),n()(),c(8,"i",88),n()}if(i&2){let t=p(3);r(5),f(t.summary.activeHolds)}}function it(i,m){if(i&1){let t=C();e(0,"div",89),x("click",function(){u(t);let s=p(3);return v(s.navigateToBatchApproval())}),e(1,"div",84),c(2,"i",90),n(),e(3,"div",85)(4,"span",86),a(5),n(),e(6,"span",87),a(7,"Batches Pending Approval"),n()(),c(8,"i",88),n()}if(i&2){let t=p(3);r(5),f(t.summary.batchesPendingApproval)}}function at(i,m){if(i&1){let t=C();e(0,"div",83),x("click",function(){u(t);let s=p(3);return v(s.navigateToQualityPending())}),e(1,"div",84),c(2,"i",91),n(),e(3,"div",85)(4,"span",86),a(5),n(),e(6,"span",87),a(7,"Quality Inspections Pending"),n()(),c(8,"i",88),n()}if(i&2){let t=p(3);r(5),f(t.summary.qualityPendingProcesses)}}function rt(i,m){if(i&1){let t=C();e(0,"div",92),x("click",function(){u(t);let s=p(3);return v(s.navigateToBlockedInventory())}),e(1,"div",84),c(2,"i",93),n(),e(3,"div",85)(4,"span",86),a(5),n(),e(6,"span",87),a(7,"Blocked Inventory"),n()(),c(8,"i",88),n()}if(i&2){let t=p(3);r(5),f(t.blockedInventoryCount)}}function ot(i,m){if(i&1&&(e(0,"div",77)(1,"h2",13),c(2,"i",78),a(3," Needs Attention"),n(),e(4,"div",79),h(5,nt,9,1,"div",80)(6,it,9,1,"div",81)(7,at,9,1,"div",80)(8,rt,9,1,"div",82),n()()),i&2){let t=p(2);r(5),d("ngIf",t.summary.activeHolds>0),r(),d("ngIf",t.summary.batchesPendingApproval>0),r(),d("ngIf",t.summary.qualityPendingProcesses>0),r(),d("ngIf",t.blockedInventoryCount>0)}}function st(i,m){if(i&1&&(e(0,"span",94),a(1),n()),i&2){let t=p(2);r(),b(" ",t.summary.operationsReady," ready to start ")}}function ct(i,m){if(i&1){let t=C();e(0,"tr",97),x("click",function(){let s=u(t).$implicit,l=p(3);return v(l.navigateToOrder(s.orderId))}),e(1,"td",98),a(2),n(),e(3,"td"),a(4),n(),e(5,"td"),a(6),n(),e(7,"td"),c(8,"app-status-badge",99),n()()}if(i&2){let t=m.$implicit;r(2),f(t.orderNumber),r(2),f((t.lineItems==null||t.lineItems[0]==null?null:t.lineItems[0].productName)||"N/A"),r(2),f(t.customerName||"-"),r(2),d("status",t.status)}}function lt(i,m){if(i&1&&(e(0,"table",95)(1,"thead")(2,"tr")(3,"th"),a(4,"Order #"),n(),e(5,"th"),a(6,"Product"),n(),e(7,"th"),a(8,"Customer"),n(),e(9,"th"),a(10,"Status"),n()()(),e(11,"tbody"),h(12,ct,9,4,"tr",96),n()()),i&2){let t=p(2);r(12),d("ngForOf",t.availableOrders)}}function dt(i,m){i&1&&(e(0,"div",100),c(1,"i",101),e(2,"p"),a(3,"No orders ready for production"),n()())}function mt(i,m){if(i&1&&(e(0,"div",104)(1,"div",105),c(2,"i",106),n(),e(3,"div",107)(4,"div",108),a(5),n(),e(6,"div",109)(7,"span",110),a(8),n(),e(9,"span",111),a(10),n()(),e(11,"div",112),a(12),k(13,"date"),n()()()),i&2){let t=m.$implicit;r(5),f(t.operationName),r(3),f(t.productSku),r(2),b("",t.producedQty," units"),r(2),f(I(13,4,t.confirmedAt,"short"))}}function pt(i,m){if(i&1&&(e(0,"div",102),h(1,mt,14,7,"div",103),n()),i&2){let t=p(2);r(),d("ngForOf",t.summary.recentActivity)}}function gt(i,m){i&1&&(e(0,"div",100),c(1,"i",113),e(2,"p"),a(3,"No recent activity"),n()())}function ft(i,m){if(i&1){let t=C();e(0,"tr",97),x("click",function(){let s=u(t).$implicit,l=p(3);return v(l.navigateToBatch(s.batchId))}),e(1,"td",114),a(2),n(),e(3,"td"),a(4),n(),e(5,"td"),a(6),n(),e(7,"td"),a(8),k(9,"date"),n(),e(10,"td"),c(11,"app-status-badge",99),n()()}if(i&2){let t=m.$implicit;r(2),f(t.batchNumber),r(2),f(t.materialName||t.materialId),r(2),L("",t.quantity," ",t.unit,""),r(2),f(I(9,6,t.createdOn,"short")),r(3),d("status",t.status)}}function ht(i,m){if(i&1&&(e(0,"table",95)(1,"thead")(2,"tr")(3,"th"),a(4,"Batch #"),n(),e(5,"th"),a(6,"Material"),n(),e(7,"th"),a(8,"Quantity"),n(),e(9,"th"),a(10,"Created"),n(),e(11,"th"),a(12,"Status"),n()()(),e(13,"tbody"),h(14,ft,12,9,"tr",96),n()()),i&2){let t=p(2);r(14),d("ngForOf",t.recentBatches)}}function ut(i,m){i&1&&(e(0,"div",100),c(1,"i",115),e(2,"p"),a(3,"No batches found"),n()())}function vt(i,m){if(i&1){let t=C();e(0,"div")(1,"div",12)(2,"h2",13),c(3,"i",14),a(4," Production Pipeline"),n(),e(5,"div",15),h(6,et,12,6,"div",16),n()(),h(7,ot,9,4,"div",17),e(8,"div",18)(9,"h2",13),c(10,"i",19),a(11," Key Metrics"),n(),e(12,"div",20)(13,"div",21),x("click",function(){u(t);let s=p();return v(s.navigateToOrders())}),e(14,"div",22)(15,"span",23),a(16,"Orders"),n(),e(17,"span",24),a(18),n()(),e(19,"div",25),a(20),n(),e(21,"div",26),h(22,st,2,1,"span",27),n()(),e(23,"div",28)(24,"div",22)(25,"span",23),a(26,"Today's Production"),n()(),e(27,"div",25),a(28),n(),e(29,"div",26)(30,"span",29),a(31,"confirmations today"),n()()(),e(32,"div",21),x("click",function(){u(t);let s=p();return v(s.navigateToInventory())}),e(33,"div",22)(34,"span",23),a(35,"Inventory Items"),n()(),e(36,"div",25),a(37),n(),e(38,"div",30)(39,"span",31),a(40),n(),e(41,"span",32),a(42),n()()(),e(43,"div",21),x("click",function(){u(t);let s=p();return v(s.navigateToBatches())}),e(44,"div",22)(45,"span",23),a(46,"Active Batches"),n()(),e(47,"div",25),a(48),n(),e(49,"div",26)(50,"span",29),a(51),n()()()()(),e(52,"div",33)(53,"h2",13),c(54,"i",34),a(55," Analytics"),n(),e(56,"div",35)(57,"div",36)(58,"div",37),a(59,"Inventory Distribution"),n(),c(60,"div",38,0),n(),e(62,"div",36)(63,"div",37),a(64,"Order Status"),n(),c(65,"div",38,1),n(),e(67,"div",36)(68,"div",37),a(69,"Batch Status"),n(),c(70,"div",38,2),n()()(),e(72,"div",39)(73,"div",40)(74,"div",41)(75,"span"),c(76,"i",42),a(77," Orders Ready for Production"),n(),e(78,"a",43),a(79,"View All "),c(80,"i",44),n()(),e(81,"div",45),h(82,lt,13,1,"table",46)(83,dt,4,0,"div",47),n()(),e(84,"div",40)(85,"div",41)(86,"span"),c(87,"i",48),a(88," Recent Confirmations"),n()(),e(89,"div",45),h(90,pt,2,1,"div",49)(91,gt,4,0,"div",47),n()()(),e(92,"div",40)(93,"div",41)(94,"span"),c(95,"i",50),a(96," Recent Batches"),n(),e(97,"a",51),a(98,"View All "),c(99,"i",44),n()(),e(100,"div",45),h(101,ht,15,1,"table",46)(102,ut,4,0,"div",47),n()(),e(103,"div",52)(104,"h2",13),c(105,"i",53),a(106," Quick Actions"),n(),e(107,"div",54)(108,"a",55)(109,"span",56),c(110,"i",57),n(),e(111,"span",58),a(112,"Confirm Production"),n()(),e(113,"a",59)(114,"span",56),c(115,"i",60),n(),e(116,"span",58),a(117,"Receive Material"),n()(),e(118,"a",61)(119,"span",56),c(120,"i",62),n(),e(121,"span",58),a(122,"View Orders"),n()(),e(123,"a",63)(124,"span",56),c(125,"i",50),n(),e(126,"span",58),a(127,"Batch Traceability"),n()(),e(128,"a",64)(129,"span",56),c(130,"i",65),n(),e(131,"span",58),a(132,"Manage Holds"),n()()()()()}if(i&2){let t=p();r(6),d("ngForOf",t.processStages),r(),d("ngIf",t.hasAlerts()),r(11),b("",t.summary.ordersInProgress," in progress"),r(2),f(t.summary.totalOrders),r(2),d("ngIf",t.summary.operationsReady>0),r(6),f(t.summary.todayConfirmations),r(9),f(t.inventorySummary.total),r(3),b("",t.inventorySummary.available," available"),r(2),b("",t.inventorySummary.consumed," consumed"),r(6),f(t.activeBatchCount),r(3),b("",t.recentBatches.length," created recently"),r(31),d("ngIf",t.availableOrders.length>0),r(),d("ngIf",t.availableOrders.length===0),r(7),d("ngIf",t.summary.recentActivity&&t.summary.recentActivity.length>0),r(),d("ngIf",!(t.summary.recentActivity!=null&&t.summary.recentActivity.length)),r(10),d("ngIf",t.recentBatches.length>0),r(),d("ngIf",t.recentBatches.length===0)}}var Y=(()=>{class i{constructor(t,o,s){this.apiService=t,this.router=o,this.chartService=s,this.chartsReady=!1,this.dataLoaded={inventory:!1,orders:!1,summary:!1,batches:!1},this.lastUpdated=new Date,this.allOrders=[],this.allBatches=[],this.summary={totalOrders:0,ordersInProgress:0,operationsReady:0,operationsInProgress:0,activeHolds:0,todayConfirmations:0,qualityPendingProcesses:0,batchesPendingApproval:0,recentActivity:[],auditActivity:[]},this.processStages=[{name:"Raw Material",icon:"fa-box",status:"idle",activeCount:0},{name:"Melting",icon:"fa-fire",status:"idle",activeCount:0},{name:"Casting",icon:"fa-industry",status:"idle",activeCount:0},{name:"Rolling",icon:"fa-gear",status:"idle",activeCount:0},{name:"Finished Goods",icon:"fa-check-circle",status:"idle",activeCount:0}],this.availableOrders=[],this.recentBatches=[],this.inventorySummary={total:0,available:0,consumed:0,onHold:0,blocked:0},this.blockedInventoryCount=0,this.activeBatchCount=0,this.loading=!0}ngOnInit(){this.loadDashboardData()}ngAfterViewInit(){this.chartsReady=!0,this.tryBuildCharts()}ngOnDestroy(){this.chartService.disposeAll()}loadDashboardData(){this.loading=!0,this.lastUpdated=new Date,this.dataLoaded={inventory:!1,orders:!1,summary:!1,batches:!1},this.apiService.getDashboardSummary().subscribe({next:t=>{this.summary=t,this.dataLoaded.summary=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading dashboard summary:",t),this.dataLoaded.summary=!0,this.checkLoadingComplete()}}),this.apiService.getAvailableOrders().subscribe({next:t=>{this.availableOrders=t.slice(0,5)},error:t=>console.error("Error loading orders:",t)}),this.apiService.getAllBatches().subscribe({next:t=>{this.allBatches=t,this.recentBatches=t.slice(0,5),this.activeBatchCount=t.filter(o=>o.status==="AVAILABLE"||o.status==="QUALITY_PENDING"||o.status==="PRODUCED").length,this.dataLoaded.batches=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading batches:",t),this.dataLoaded.batches=!0,this.checkLoadingComplete()}}),this.apiService.getAllInventory().subscribe({next:t=>{this.inventorySummary.total=t.length,this.inventorySummary.available=t.filter(g=>g.state==="AVAILABLE").length,this.inventorySummary.consumed=t.filter(g=>g.state==="CONSUMED").length,this.inventorySummary.onHold=t.filter(g=>g.state==="ON_HOLD").length,this.inventorySummary.blocked=t.filter(g=>g.state==="BLOCKED").length,this.blockedInventoryCount=this.inventorySummary.blocked;let o=t.filter(g=>g.inventoryType==="RM"&&g.state==="AVAILABLE").length,s=t.filter(g=>g.inventoryType==="IM"&&g.state==="AVAILABLE").length,l=t.filter(g=>g.inventoryType==="FG"&&g.state==="AVAILABLE").length,_=t.filter(g=>g.inventoryType==="WIP"&&g.state==="AVAILABLE").length;this.processStages[0].activeCount=o,this.processStages[0].status=o>0?"active":"idle",this.processStages[4].activeCount=l,this.processStages[4].status=l>0?"active":"idle",this.dataLoaded.inventory=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading inventory:",t),this.dataLoaded.inventory=!0,this.checkLoadingComplete()}}),this.apiService.getOrders().subscribe({next:t=>{this.allOrders=t,this.dataLoaded.orders=!0,this.checkLoadingComplete()},error:t=>{console.error("Error loading all orders:",t),this.dataLoaded.orders=!0,this.checkLoadingComplete()}}),this.apiService.getQualityPendingProcesses().subscribe({next:t=>{this.summary.qualityPendingProcesses=t.length},error:t=>console.error("Error loading quality pending processes:",t)}),this.apiService.getOperationsByStatus("IN_PROGRESS").subscribe({next:t=>{let o=t.filter(_=>_.operationType==="MELTING"||_.operationType==="FURNACE"),s=t.filter(_=>_.operationType==="CASTING"||_.operationType==="CASTER"),l=t.filter(_=>_.operationType==="ROLLING"||_.operationType==="MILL");this.processStages[1].activeCount=o.length,this.processStages[1].status=o.length>0?"active":"idle",this.processStages[2].activeCount=s.length,this.processStages[2].status=s.length>0?"active":"idle",this.processStages[3].activeCount=l.length,this.processStages[3].status=l.length>0?"active":"idle"},error:()=>{}})}checkLoadingComplete(){this.dataLoaded.inventory&&this.dataLoaded.orders&&this.dataLoaded.summary&&this.dataLoaded.batches&&(this.loading=!1,this.tryBuildCharts())}hasAlerts(){return this.summary.activeHolds>0||this.summary.batchesPendingApproval>0||this.summary.qualityPendingProcesses>0||this.blockedInventoryCount>0}navigateToQualityPending(){this.router.navigate(["/processes/quality-pending"])}navigateToOrder(t){this.router.navigate(["/orders",t])}navigateToBatch(t){this.router.navigate(["/batches",t])}navigateToHolds(){this.router.navigate(["/holds"])}navigateToOrders(){this.router.navigate(["/orders"])}navigateToInventory(){this.router.navigate(["/inventory"])}navigateToBatches(){this.router.navigate(["/batches"])}navigateToBatchApproval(){this.router.navigate(["/batches"],{queryParams:{status:"QUALITY_PENDING"}})}navigateToBlockedInventory(){this.router.navigate(["/inventory"],{queryParams:{state:"BLOCKED"}})}tryBuildCharts(){!this.chartsReady||this.loading||setTimeout(()=>{this.buildInventoryChart(),this.buildOrderStatusChart(),this.buildBatchStatusChart()},0)}buildInventoryChart(){this.inventoryChartRef&&(this.chartService.initChart(this.inventoryChartRef.nativeElement,"dashboard-inventory"),this.chartService.setOption("dashboard-inventory",{tooltip:{trigger:"item",formatter:"{b}: {c} ({d}%)",textStyle:{fontSize:y.tooltip}},legend:{bottom:0,left:"center",textStyle:{fontSize:y.label}},series:[{type:"pie",radius:["40%","70%"],center:["50%","45%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:4,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:y.emphasis,fontWeight:"bold"}},data:[{value:this.inventorySummary.available,name:"Available",itemStyle:{color:"#4caf50"}},{value:this.inventorySummary.consumed,name:"Consumed",itemStyle:{color:"#9e9e9e"}},{value:this.inventorySummary.onHold,name:"On Hold",itemStyle:{color:"#ff9800"}},{value:this.inventorySummary.blocked,name:"Blocked",itemStyle:{color:"#f44336"}}].filter(t=>t.value>0)}]}))}buildOrderStatusChart(){if(!this.orderStatusChartRef||this.allOrders.length===0)return;let t={};this.allOrders.forEach(l=>{t[l.status]=(t[l.status]||0)+1});let o={DRAFT:"#9e9e9e",PENDING:"#ff9800",READY:"#4caf50",IN_PROGRESS:"#1976d2",COMPLETED:"#388e3c",CANCELLED:"#d32f2f",ON_HOLD:"#f44336"},s=Object.keys(t);this.chartService.initChart(this.orderStatusChartRef.nativeElement,"dashboard-orders"),this.chartService.setOption("dashboard-orders",{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:y.tooltip}},grid:{left:40,right:20,bottom:30,top:20},xAxis:{type:"category",data:s,axisLabel:{fontSize:y.axisLabel,rotate:30}},yAxis:{type:"value",minInterval:1},series:[{type:"bar",data:s.map(l=>({value:t[l],itemStyle:{color:o[l]||"#1976d2"}})),barMaxWidth:40,itemStyle:{borderRadius:[4,4,0,0]}}]})}buildBatchStatusChart(){if(!this.batchStatusChartRef||this.allBatches.length===0)return;let t={};this.allBatches.forEach(l=>{t[l.status]=(t[l.status]||0)+1});let o={QUALITY_PENDING:"#ff9800",AVAILABLE:"#4caf50",PRODUCED:"#1976d2",CONSUMED:"#9e9e9e",BLOCKED:"#f44336",SCRAPPED:"#795548",ON_HOLD:"#e91e63"},s=Object.keys(t);this.chartService.initChart(this.batchStatusChartRef.nativeElement,"dashboard-batches"),this.chartService.setOption("dashboard-batches",{tooltip:{trigger:"axis",axisPointer:{type:"shadow"},textStyle:{fontSize:y.tooltip}},grid:{left:40,right:20,bottom:30,top:20},xAxis:{type:"category",data:s,axisLabel:{fontSize:y.axisLabel,rotate:30}},yAxis:{type:"value",minInterval:1},series:[{type:"bar",data:s.map(l=>({value:t[l],itemStyle:{color:o[l]||"#1976d2"}})),barMaxWidth:40,itemStyle:{borderRadius:[4,4,0,0]}}]})}static{this.\u0275fac=function(o){return new(o||i)(P(Q),P(z),P(F))}}static{this.\u0275cmp=T({type:i,selectors:[["app-dashboard"]],viewQuery:function(o,s){if(o&1&&(M(W,5),M(K,5),M(J,5)),o&2){let l;E(l=w())&&(s.inventoryChartRef=l.first),E(l=w())&&(s.orderStatusChartRef=l.first),E(l=w())&&(s.batchStatusChartRef=l.first)}},decls:7,vars:3,consts:[["inventoryChart",""],["orderStatusChart",""],["batchStatusChart",""],[1,"dashboard-page"],[1,"page-header"],[1,"page-title"],["class","last-updated",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"last-updated"],[1,"text-center"],["message","Loading dashboard..."],[1,"process-pipeline-section"],[1,"section-title"],[1,"fas","fa-stream"],[1,"process-pipeline"],["class","pipeline-stage",4,"ngFor","ngForOf"],["class","alerts-section",4,"ngIf"],[1,"metrics-section"],[1,"fas","fa-chart-simple"],[1,"metrics-grid"],[1,"metric-card",3,"click"],[1,"metric-header"],[1,"metric-label"],[1,"metric-badge"],[1,"metric-value"],[1,"metric-footer"],["class","metric-change positive",4,"ngIf"],[1,"metric-card"],[1,"metric-sublabel"],[1,"metric-breakdown"],[1,"breakdown-item","available"],[1,"breakdown-item","consumed"],[1,"charts-section"],[1,"fas","fa-chart-pie"],[1,"charts-grid"],[1,"card","chart-card"],[1,"chart-title"],[1,"chart-container"],[1,"dashboard-grid"],[1,"card"],[1,"card-header"],[1,"fas","fa-play-circle"],["routerLink","/orders",1,"view-all"],[1,"fas","fa-arrow-right"],[1,"card-body"],["class","table",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"fas","fa-clock-rotate-left"],["class","activity-list",4,"ngIf"],[1,"fas","fa-cubes"],["routerLink","/batches",1,"view-all"],[1,"quick-actions-section"],[1,"fas","fa-bolt"],[1,"quick-actions"],["routerLink","/production",1,"action-btn","primary"],[1,"action-icon"],[1,"fas","fa-industry"],[1,"action-label"],["routerLink","/inventory/receive",1,"action-btn","success"],[1,"fas","fa-download"],["routerLink","/orders",1,"action-btn"],[1,"fas","fa-list"],["routerLink","/batches",1,"action-btn"],["routerLink","/holds",1,"action-btn","warning"],[1,"fas","fa-circle-pause"],[1,"pipeline-stage"],["class","stage-connector",4,"ngIf"],[1,"stage-card",3,"ngClass"],[1,"stage-icon"],[1,"fas",3,"ngClass"],[1,"stage-info"],[1,"stage-name"],[1,"stage-count"],[1,"stage-indicator"],[1,"stage-status-dot",3,"ngClass"],[1,"stage-connector"],[1,"alerts-section"],[1,"fas","fa-bell"],[1,"alerts-grid"],["class","alert-card warning",3,"click",4,"ngIf"],["class","alert-card info",3,"click",4,"ngIf"],["class","alert-card danger",3,"click",4,"ngIf"],[1,"alert-card","warning",3,"click"],[1,"alert-icon"],[1,"alert-content"],[1,"alert-count"],[1,"alert-label"],[1,"fas","fa-chevron-right","alert-arrow"],[1,"alert-card","info",3,"click"],[1,"fas","fa-clipboard-check"],[1,"fas","fa-magnifying-glass"],[1,"alert-card","danger",3,"click"],[1,"fas","fa-ban"],[1,"metric-change","positive"],[1,"table"],["class","clickable",3,"click",4,"ngFor","ngForOf"],[1,"clickable",3,"click"],[1,"order-number"],[3,"status"],[1,"empty-state"],[1,"fas","fa-inbox"],[1,"activity-list"],["class","activity-item",4,"ngFor","ngForOf"],[1,"activity-item"],[1,"activity-icon"],[1,"fas","fa-check"],[1,"activity-info"],[1,"activity-title"],[1,"activity-details"],[1,"product-sku"],[1,"qty-badge"],[1,"activity-time"],[1,"fas","fa-history"],[1,"batch-number"],[1,"fas","fa-boxes-stacked"]],template:function(o,s){o&1&&(e(0,"div",3)(1,"div",4)(2,"h1",5),a(3,"Production Dashboard"),n(),h(4,X,3,4,"span",6),n(),h(5,Z,2,0,"div",7)(6,vt,133,17,"div",8),n()),o&2&&(r(4),d("ngIf",!s.loading),r(),d("ngIf",s.loading),r(),d("ngIf",!s.loading))},dependencies:[A,B,R,q,j,H,N],styles:[".dashboard-page[_ngcontent-%COMP%]{padding:24px;max-width:1400px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.page-title[_ngcontent-%COMP%]{font-size:28px;font-weight:600;color:#1a1a1a;margin:0}.last-updated[_ngcontent-%COMP%]{font-size:13px;color:#888}.section-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#333;margin:0 0 16px;display:flex;align-items:center;gap:8px}.section-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1976d2}.process-pipeline-section[_ngcontent-%COMP%]{margin-bottom:24px}.process-pipeline[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #00000014;overflow-x:auto}.pipeline-stage[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1;min-width:0}.stage-connector[_ngcontent-%COMP%]{width:40px;height:3px;background:linear-gradient(90deg,#e0e0e0,#1976d2,#e0e0e0);margin:0 8px;flex-shrink:0}.stage-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#f8f9fa;border-radius:10px;flex:1;min-width:140px;transition:all .3s;border:2px solid transparent}.stage-card.stage-active[_ngcontent-%COMP%]{background:#e3f2fd;border-color:#1976d2}.stage-card.stage-warning[_ngcontent-%COMP%]{background:#fff3e0;border-color:#ff9800}.stage-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:10px;background:#e0e0e0;display:flex;align-items:center;justify-content:center;font-size:18px;color:#666;flex-shrink:0}.stage-active[_ngcontent-%COMP%]   .stage-icon[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.stage-warning[_ngcontent-%COMP%]   .stage-icon[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.stage-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:0}.stage-name[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.stage-count[_ngcontent-%COMP%]{font-size:12px;color:#888}.stage-indicator[_ngcontent-%COMP%]{margin-left:auto}.stage-status-dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:block}.dot-active[_ngcontent-%COMP%]{background:#4caf50;box-shadow:0 0 8px #4caf5080;animation:_ngcontent-%COMP%_pulse 2s infinite}.dot-idle[_ngcontent-%COMP%]{background:#e0e0e0}.dot-warning[_ngcontent-%COMP%]{background:#ff9800;animation:_ngcontent-%COMP%_pulse 1s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.alerts-section[_ngcontent-%COMP%]{margin-bottom:24px}.alerts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.alert-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#fff;border-radius:10px;cursor:pointer;transition:all .2s;border-left:4px solid}.alert-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.alert-card.warning[_ngcontent-%COMP%]{border-color:#ff9800;background:#fff8e1}.alert-card.danger[_ngcontent-%COMP%]{border-color:#f44336;background:#ffebee}.alert-card.info[_ngcontent-%COMP%]{border-color:#2196f3;background:#e3f2fd}.alert-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0}.alert-card.warning[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.alert-card.danger[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#f44336;color:#fff}.alert-card.info[_ngcontent-%COMP%]   .alert-icon[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.alert-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.alert-count[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#333}.alert-label[_ngcontent-%COMP%]{font-size:13px;color:#666}.alert-arrow[_ngcontent-%COMP%]{color:#ccc;font-size:14px}.metrics-section[_ngcontent-%COMP%]{margin-bottom:24px}.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}.metric-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f;cursor:pointer;transition:all .2s}.metric-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001a}.metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.metric-label[_ngcontent-%COMP%]{font-size:13px;color:#666;font-weight:500}.metric-badge[_ngcontent-%COMP%]{font-size:11px;padding:3px 8px;border-radius:10px;background:#e3f2fd;color:#1976d2;font-weight:500}.metric-value[_ngcontent-%COMP%]{font-size:36px;font-weight:700;color:#1a1a1a;line-height:1.1}.metric-footer[_ngcontent-%COMP%]{margin-top:8px}.metric-change[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.metric-change.positive[_ngcontent-%COMP%]{color:#4caf50}.metric-sublabel[_ngcontent-%COMP%]{font-size:12px;color:#888}.metric-breakdown[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.breakdown-item[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.breakdown-item.available[_ngcontent-%COMP%]{color:#4caf50}.breakdown-item.consumed[_ngcontent-%COMP%]{color:#9e9e9e}.charts-section[_ngcontent-%COMP%]{margin-bottom:24px}.charts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:20px}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f}.chart-title[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#333;margin-bottom:12px;text-align:center}.chart-container[_ngcontent-%COMP%]{width:100%;height:250px}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px #0000000f}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;font-weight:600;color:#333;margin-bottom:16px}.card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px;color:#1976d2}.view-all[_ngcontent-%COMP%]{font-size:13px;color:#1976d2;text-decoration:none;font-weight:500;display:flex;align-items:center;gap:4px}.view-all[_ngcontent-%COMP%]:hover{text-decoration:underline}.card-body[_ngcontent-%COMP%]{min-height:200px}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;padding:10px 8px;font-size:12px;font-weight:600;color:#666;text-transform:uppercase;letter-spacing:.5px;border-bottom:2px solid #eee}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;font-size:14px;border-bottom:1px solid #f0f0f0}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.clickable[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.order-number[_ngcontent-%COMP%], .batch-number[_ngcontent-%COMP%]{font-weight:600;color:#1976d2}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:#888}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;margin-bottom:12px;color:#ddd}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.activity-item[_ngcontent-%COMP%]{display:flex;gap:12px;padding:12px;background:#f8f9fa;border-radius:8px}.activity-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#4caf50;color:#fff;display:flex;align-items:center;justify-content:center;font-size:14px;flex-shrink:0}.activity-info[_ngcontent-%COMP%]{flex:1;min-width:0}.activity-title[_ngcontent-%COMP%]{font-weight:600;color:#333;font-size:14px}.activity-details[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:4px}.product-sku[_ngcontent-%COMP%]{font-size:13px;color:#666}.qty-badge[_ngcontent-%COMP%]{font-size:12px;padding:2px 8px;background:#e8f5e9;color:#388e3c;border-radius:10px;font-weight:500}.activity-time[_ngcontent-%COMP%]{font-size:12px;color:#888;margin-top:4px}.quick-actions-section[_ngcontent-%COMP%]{margin-bottom:24px}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.action-btn[_ngcontent-%COMP%]{flex:1;min-width:140px;display:flex;flex-direction:column;align-items:center;padding:24px 16px;background:#fff;border-radius:12px;text-decoration:none;color:#333;transition:all .2s;box-shadow:0 2px 8px #0000000f}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 24px #0000001f}.action-btn.primary[_ngcontent-%COMP%]{background:#1976d2;color:#fff}.action-btn.success[_ngcontent-%COMP%]{background:#388e3c;color:#fff}.action-btn.warning[_ngcontent-%COMP%]{background:#ff9800;color:#fff}.action-icon[_ngcontent-%COMP%]{font-size:28px;margin-bottom:8px}.action-label[_ngcontent-%COMP%]{font-size:13px;font-weight:600;text-align:center}@media (max-width: 1200px){.alerts-grid[_ngcontent-%COMP%], .metrics-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media (max-width: 768px){.dashboard-page[_ngcontent-%COMP%]{padding:16px}.process-pipeline[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.stage-connector[_ngcontent-%COMP%]{width:3px;height:20px;margin:0}.pipeline-stage[_ngcontent-%COMP%]{flex-direction:column}.alerts-grid[_ngcontent-%COMP%], .metrics-grid[_ngcontent-%COMP%], .dashboard-grid[_ngcontent-%COMP%], .charts-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.quick-actions[_ngcontent-%COMP%]{flex-direction:column}.action-btn[_ngcontent-%COMP%]{flex-direction:row;justify-content:flex-start;gap:16px;padding:16px}.action-icon[_ngcontent-%COMP%]{margin-bottom:0}}"]})}}return i})();var xt=[{path:"",component:Y}],$=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=O({type:i})}static{this.\u0275inj=S({imports:[D.forChild(xt),D]})}}return i})();var Bt=(()=>{class i{static{this.\u0275fac=function(o){return new(o||i)}}static{this.\u0275mod=O({type:i})}static{this.\u0275inj=S({imports:[V,$,G]})}}return i})();export{Bt as DashboardModule};
